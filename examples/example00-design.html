<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>0. Design</title>
        <link type="text/css" href="https://uicdn.toast.com/tui-color-picker/v2.2.0/tui-color-picker.css" rel="stylesheet">

        <style>
         html, body {
             height: 100%;
             margin: 0;
         }

         .tui-image-editor-container {
             marign: 0;
             padding: 0;
             box-sizing: border-box;
             min-height: 300px;
             height:100%;
             position: relative;
             background-image: url(img/bg.png);
             border: 1px solid #000;
             overflow: hidden;
         }

         .tui-image-editor-container div,
         .tui-image-editor-container ul,
         .tui-image-editor-container li {
             box-sizing: border-box;
             margin: 0;
             padding: 0;
         }

         .tui-image-editor-header {
             min-width: 533px;
             position: absolute;
             top: 0;
             width: 100%;
         }

         .tui-image-editor-header .logo,
         .tui-image-editor-controls .logo {
             float: left;
             width: 30%;
             padding: 17px;
         }

         .tui-image-editor-header .buttons,
         .tui-image-editor-controls .buttons {
             float: right;
             margin: 8px;
         }

         .tui-image-editor-controls .logo {
             width: 270px;
             height: 100%;
             display: none;
         }

         .tui-image-editor-controls .buttons {
             width: 270px;
             height: 100%;
             display: none;
         }


         .tui-image-editor-header .buttons button,
         .tui-image-editor-controls .buttons button {
             width: 120px;
             height: 40px;
             outline: none;
             border-radius: 20px;
             border: 1px solid #ddd;
             padding-top: 5px;
             font-family: NotoSans, sans-serif;
             font-size: 12px;
             font-weight: bold;
             cursor: pointer;
         }

         .tui-image-editor-container .buttons button.download {
              background-color: #fdba3b;
              border-color: #fdba3b;
              color: #fff;
         }

         .tui-image-editor-main-container {
             position: absolute;
             width: 100%;
             top: 0;
             bottom: 64px;
         }

         .tui-image-editor-main-container .main {
             position: absolute;
             text-align: center;
             top: 64px;
             bottom: 0;
             right: 0;
             left: 0;
         }

         .tui-image-editor-wrap {
             border: 1px solid green;
             position: absolute;
             bottom: 150px;
             width: 100%;
             overflow: auto;
         }

         .tui-image-editor {
            position: absolute;
            display: inline-block;
            transition: all .7s ease;
         }

         .tui-image-editor .grid-visual {
            display: none;
            position: absolute;
            width: 100%;
            height: 100%;
         }

         .flip .tui-image-editor .grid-visual,
         .rotate .tui-image-editor .grid-visual {
             display: block;
         }

         .tui-image-editor .grid-visual table {
             width: 100%;
             height: 100%;
             border-collapse: collapse;
             box-shadow: 0 0 1px 0 rgba(0,0,0,0.3);
         }
         .tui-image-editor .grid-visual table td {
             border: 1px solid #fff;
             box-shadow: 0 0 1px 0 rgba(0,0,0,0.3);
         }

         .tui-image-editor .grid-visual table td.dot:before {
             content: '';
             position: absolute;
             width: 8px;
             height: 8px;
             border: 1px solid #cdcdcd;
             border-radius: 100%;
             background-color: #fff;
         }
         .tui-image-editor .grid-visual table td.dot.left-top:before {
             top: -4px;
             left: -4px;
         }
         .tui-image-editor .grid-visual table td.dot.right-top:before {
             top: -4px;
             right: -4px;
         }
         .tui-image-editor .grid-visual table td.dot.left-bottom:before {
             bottom: -4px;
             left: -4px;
         }
         .tui-image-editor .grid-visual table td.dot.right-bottom:before {
             bottom: -4px;
             right: -4px;
         }

         .tui-image-editor-main-container .main .sub-menu {
             display: none;
             position: absolute;
             /* border: 1px solid red; */
             bottom: 0;
             width:100%;
             height: 150px;
         }

         .tui-image-editor-main-container .main .sub-menu .menu li {
             display: inline-block;
         }
         .tui-image-editor-main-container .main .sub-menu .menu li.newline {
             display: block;
         }
         .tui-image-editor-main-container .main .sub-menu .menu .button {
             cursor: pointer;
             display: inline-block;
             color: #777;
             font-size: 11px;
             margin-right: 12px;
         }

         .tui-image-editor-main-container .main .sub-menu .menu .button label {
             cursor: pointer;
             vertical-align: 7px;
         }

         .tui-image-editor-main-container .main .sub-menu > div {
             display: none;
             vertical-align: bottom;
         }
         .tui-image-editor-main-container .main.crop .sub-menu > div.crop {
             display: table-cell;
         }
         .tui-image-editor-main-container .main.flip .sub-menu > div.flip {
             display: table-cell;
         }
         .tui-image-editor-main-container .main.rotate .sub-menu > div.rotate {
             display: table-cell;
         }
         .tui-image-editor-main-container .main.shape .sub-menu > div.shape {
             display: table-cell;
         }

         .tui-image-editor-controls {
             position: absolute;
             background-color: #151515;
             width: 100%;
             height: 64px;
             display: table;
             bottom: 0;
             z-index: 1;
         }

         .ic-partition {
             display: inline-block;
             background-color: #282828;
             width: 1px;
             height: 24px;
         }


         .left .tui-image-editor-main-container .main .sub-menu > div,
         .right .tui-image-editor-main-container .main .sub-menu > div {
             vertical-align: middle;
         }

         .left .tui-image-editor-main-container .main .sub-menu {
             left: 0;
             height: 100%;
             width: 248px;
         }
         .left .tui-image-editor-main-container {
             left: 64px;
             width: calc(100% - 64px);
             height: 100%;
         }
         .left .tui-image-editor-controls {
            width: 64px;
            height: 100%;
            display: table;
         }
         .left .tui-image-editor-controls li,
         .right .tui-image-editor-controls li {
            display: block;
            width: 39px;
            margin: 4px 0 4px 12px;
         }
         .left .ic-partition,
         .right .ic-partition {
             position: relative;
             top: -7px;
             width: 24px;
             height: 1px;
         }


         .right .tui-image-editor-main-container .main .sub-menu {
             right: 0;
             height: 100%;
             width: 248px;
         }
         .right .tui-image-editor-main-container {
             right: 64px;
             width: calc(100% - 64px);
             height: 100%;
         }
         .right .tui-image-editor-controls {
             right: 0;
             width: 64px;
             height: 100%;
             display: table;
         }

         .bottom .tui-image-editor-main-container .main .sub-menu > div {
             padding-bottom: 24px;
         }

         .top .tui-image-editor-main-container .main .sub-menu > div {
             padding-top: 24px;
             vertical-align: top;
         }

         .top .tui-image-editor-main-container .main .sub-menu {
             top: 0;
             bottom: inherit;
         }
         .top .tui-image-editor-controls .logo {
             display: table-cell;
         }
         .top .tui-image-editor-controls .buttons {
             display: table-cell;
         }
         .top .tui-image-editor-main-container .main {
             top: 64px;
             height: 100%;
         }
         .top .tui-image-editor-controls {
             top: 0;
             bottom: inherit;
         }
         .top .tui-image-editor-controls {
             top: 0;
             bottom: inherit;
         }

         .tui-image-editor-controls ul {
             width: auto;
             list-style: none;
             padding: 0;
             margin: 0 auto;
             display: table-cell;
             text-align: center;
             vertical-align: middle;
             white-space: nowrap;
         }

         .tui-image-editor-controls li {
             display: inline-block;
             border-radius: 2px;
             padding: 7px 8px 3px 8px;
             cursor: pointer;
         }

         .tui-image-editor-controls li.active {
             background-color: #fff;
             transition: all .3s ease;
         }
         .tui-image-editor-wrap {
             position: absolute;
         }

         /* ICON */
        .svg_ic-apply,
        .svg_ic-cancel,
        .svg_ic-delete-all,
        .svg_ic-delete,
        .svg_ic-draw,
        .svg_ic-crop,
        .svg_ic-filter,
        .svg_ic-icon,
        .svg_ic-mask,
        .svg_ic-redo,
        .svg_ic-reset,
        .svg_ic-shape,
        .svg_ic-rotate,
        .svg_ic-flip,
        .svg_ic-text,
        .svg_ic-undo {
            width: 24px;
            height: 24px;
        }

        .svg_ic-color-transparent-w,
        .svg_ic-flip-x,
        .svg_ic-flip-y,
        .svg_ic-flip-reset,
        .svg_ic-rotate-clockwise,
        .svg_ic-rotate-counterclockwise,
        .svg_ic-shape-circle,
        .svg_ic-shape-rectangle,
        .svg_ic-shape-triangle {
            width: 32px;
            height: 32px;
        }
        .svg_img-bi {
            width: 257px;
            height: 26px;
        }

        .tui-image-editor-controls svg {
            display: none;
        }
        .tui-image-editor-controls svg.normal {
            display: inline-block;
        }
        .tui-image-editor-controls .active svg.active {
            display: inline-block;
        }
        .tui-image-editor-controls .hover svg.disable {
            display: inline-block;
        }
        .tui-image-editor-controls .active svg.normal,
        .tui-image-editor-controls .hover svg.normal {
            display: none;
        }

        /* SUB MENU */
        .tui-image-editor-container div.tui-colorpicker-clearfix {
          width: 156px;
          height: 28px;
          border: 1px solid #d5d5d5;
          border-radius: 2px;
          background-color: #f5f5f5;
          margin-top: 6px;
        }

        .tui-image-editor-container .tui-colorpicker-palette-preview {
          border-radius: 100%;
          float: left;
          width: 16px;
          height: 16px;
        }

        .tui-image-editor-container .color-picker-control .tui-colorpicker-palette-toggle-slider {
          display: none;
        }

        .tui-image-editor-container .color-picker-control {
            position: absolute;
            /* display: inline-block !important; */
            display: none;
            z-index: 99;
            width: 188px;
            height: 112px;
            background-color: #fff;
            box-shadow: 0 3px 22px 0px #000;
            padding: 14px;
            border-radius: 2px;
        }
        .color-picker-control .tui-colorpicker-palette-button {
            border-radius: 100%;
            margin: 2px;
        }

        .color-picker-control .triangle {
            margin: 32px auto 0;
            width: 0;
            height: 0;
            border-right: 12px solid transparent;
            border-top: 12px solid #fff;
            border-left: 12px solid transparent;
            position: absolute;
            bottom: -11px;
            left: 77px;
        }

        .color-picker,
        .color-picker-control .tui-colorpicker-container,
        .color-picker-control .tui-colorpicker-palette-container ul,
        .color-picker-control .tui-colorpicker-palette-container {
            width: 100%;
            height: auto;
        }


        .sub-menu .menu .button .color-picker {
            width: 30px;
            height: 30px;
            border: 1px solid #777;
            border-radius: 100%;
            margin-bottom: 4px;
        }

        .sub-menu .menu .button svg {
            display: none;
        }
        .sub-menu .menu .button svg.normal {
            display: inline-block;
        }

         /* CROP BUTTON */
        #crop-button .button.apply {
            margin-right: 24px;
        }
        #crop-button .button.apply.active {
            color: #000;
        }
        #crop-button .button.apply.active svg.normal {
            display: none;
        }
        #crop-button .button.apply.active svg.active {
            display: inline-block;
        }

        /* SHAPE BUTTON */
        #shape-button.rect .button.rect svg.normal,
        #shape-button.circle .button.circle svg.normal,
        #shape-button.triangle .button.triangle svg.normal {
            display: none;
        }

         #shape-button.rect .button.rect svg.active {
             display: inline-block;
         }
         #shape-button.circle .button.circle svg.active {
             display: inline-block;
         }
         #shape-button.triangle .button.triangle svg.active {
             display: inline-block;
         }

         @media screen and (max-width: 1234px) {
             .top .tui-image-editor-controls ul {
                 text-align: right;
             }
             .top .tui-image-editor-controls .logo {
                 display: none;
             }
         }
        </style>
    </html>
    <body>

        <div class="tui-image-editor-container"></div>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.7/fabric.js"></script>
        <script type="text/javascript" src="https://uicdn.toast.com/tui.code-snippet/v1.3.0/tui-code-snippet.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.3/FileSaver.min.js"></script>
        <script type="text/javascript" src="https://cdn.rawgit.com/nhnent/tui.color-picker/v2.2.0/dist/tui-color-picker.js"></script>


        <script type="text/javascript" src="../dist/tui-image-editor.js"></script>
        <script>

         // Image editor
         var imageEditor = new tui.ImageEditor('.tui-image-editor-container', {
             includeUi: {
                 loadImage: {
                     path: 'img/sampleImage.jpg',
                     name: 'SampleImage'
                 },
                 initMenu: 'rotate',
                 menuBarPosition: 'bottom'
             },
             cssMaxWidth: 700,
             cssMaxHeight: 500,
             selectionStyle: {
                 cornerSize: 20,
                 rotatingPointOffset: 70
             }
         });

         window.onresize = function() {
             imageEditor.ui.resizeEditor();
         }



         /*
         imageEditor.on({
             undoStackChanged: function(length) {
                 if (length) {
                     $btnUndo.removeClass('disabled');
                 } else {
                     $btnUndo.addClass('disabled');
                 }
                 resizeEditor();
             }
         });

         imageEditor.loadImageFromURL('img/sampleImage.jpg', 'SampleImage').then(sizeValue => {
             console.log(sizeValue);
             imageEditor.clearUndoStack();
         });
         */
        </script>
    </body>
</html>
