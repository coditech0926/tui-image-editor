!function e(t,n,a){function i(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,a)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,n){e("./src/template/helper"),tui.util.defineNamespace("tui.component.ImageEditor",e("./src/js/imageEditor"))},{"./src/js/imageEditor":27,"./src/template/helper":43}],2:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(){var e=new o.HandlebarsEnvironment;return d.extend(e,o),e.SafeString=u["default"],e.Exception=h["default"],e.Utils=d,e.escapeExpression=d.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}n.__esModule=!0;var s=e("./handlebars/base"),o=i(s),l=e("./handlebars/safe-string"),u=a(l),c=e("./handlebars/exception"),h=a(c),f=e("./handlebars/utils"),d=i(f),p=e("./handlebars/runtime"),m=i(p),g=e("./handlebars/no-conflict"),v=a(g),x=r();x.create=r,v["default"](x),x["default"]=x,n["default"]=x,t.exports=n["default"]},{"./handlebars/base":3,"./handlebars/exception":6,"./handlebars/no-conflict":16,"./handlebars/runtime":17,"./handlebars/safe-string":18,"./handlebars/utils":19}],3:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}n.__esModule=!0,n.HandlebarsEnvironment=i;var r=e("./utils"),s=e("./exception"),o=a(s),l=e("./helpers"),u=e("./decorators"),c=e("./logger"),h=a(c),f="4.0.5";n.VERSION=f;var d=7;n.COMPILER_REVISION=d;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};n.REVISION_CHANGES=p;var m="[object Object]";i.prototype={constructor:i,logger:h["default"],log:h["default"].log,registerHelper:function(e,t){if(r.toString.call(e)===m){if(t)throw new o["default"]("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(r.toString.call(e)===m)r.extend(this.partials,e);else{if("undefined"==typeof t)throw new o["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(r.toString.call(e)===m){if(t)throw new o["default"]("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var g=h["default"].log;n.log=g,n.createFrame=r.createFrame,n.logger=h["default"]},{"./decorators":4,"./exception":6,"./helpers":7,"./logger":15,"./utils":19}],4:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){s["default"](e)}n.__esModule=!0,n.registerDefaultDecorators=i;var r=e("./decorators/inline"),s=a(r)},{"./decorators/inline":5}],5:[function(e,t,n){"use strict";n.__esModule=!0;var a=e("../utils");n["default"]=function(e){e.registerDecorator("inline",function(e,t,n,i){var r=e;return t.partials||(t.partials={},r=function(i,r){var s=n.partials;n.partials=a.extend({},s,t.partials);var o=e(i,r);return n.partials=s,o}),t.partials[i.args[0]]=i.fn,r})},t.exports=n["default"]},{"../utils":19}],6:[function(e,t,n){"use strict";function a(e,t){var n=t&&t.loc,r=void 0,s=void 0;n&&(r=n.start.line,s=n.start.column,e+=" - "+r+":"+s);for(var o=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=o[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,a),n&&(this.lineNumber=r,this.column=s)}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];a.prototype=new Error,n["default"]=a,t.exports=n["default"]},{}],7:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){s["default"](e),l["default"](e),c["default"](e),f["default"](e),p["default"](e),g["default"](e),x["default"](e)}n.__esModule=!0,n.registerDefaultHelpers=i;var r=e("./helpers/block-helper-missing"),s=a(r),o=e("./helpers/each"),l=a(o),u=e("./helpers/helper-missing"),c=a(u),h=e("./helpers/if"),f=a(h),d=e("./helpers/log"),p=a(d),m=e("./helpers/lookup"),g=a(m),v=e("./helpers/with"),x=a(v)},{"./helpers/block-helper-missing":8,"./helpers/each":9,"./helpers/helper-missing":10,"./helpers/if":11,"./helpers/log":12,"./helpers/lookup":13,"./helpers/with":14}],8:[function(e,t,n){"use strict";n.__esModule=!0;var a=e("../utils");n["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,r=n.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(a.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var s=a.createFrame(n.data);s.contextPath=a.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(t,n)})},t.exports=n["default"]},{"../utils":19}],9:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../utils"),r=e("../exception"),s=a(r);n["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,r){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!r,c&&(u.contextPath=c+t)),l+=a(e[t],{data:u,blockParams:i.blockParams([e[t],t],[c+t,null])})}if(!t)throw new s["default"]("Must pass iterator to #each");var a=t.fn,r=t.inverse,o=0,l="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(u=i.createFrame(t.data)),e&&"object"==typeof e)if(i.isArray(e))for(var h=e.length;h>o;o++)o in e&&n(o,o,o===e.length-1);else{var f=void 0;for(var d in e)e.hasOwnProperty(d)&&(void 0!==f&&n(f,o-1),f=d,o++);void 0!==f&&n(f,o-1,!0)}return 0===o&&(l=r(this)),l})},t.exports=n["default"]},{"../exception":6,"../utils":19}],10:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e("../exception"),r=a(i);n["default"]=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=n["default"]},{"../exception":6}],11:[function(e,t,n){"use strict";n.__esModule=!0;var a=e("../utils");n["default"]=function(e){e.registerHelper("if",function(e,t){return a.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=n["default"]},{"../utils":19}],12:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],a=0;a<arguments.length-1;a++)t.push(arguments[a]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)})},t.exports=n["default"]},{}],13:[function(e,t,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},t.exports=n["default"]},{}],14:[function(e,t,n){"use strict";n.__esModule=!0;var a=e("../utils");n["default"]=function(e){e.registerHelper("with",function(e,t){a.isFunction(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&(i=a.createFrame(t.data),i.contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:a.blockParams([e],[i&&i.contextPath])})})},t.exports=n["default"]},{"../utils":19}],15:[function(e,t,n){"use strict";n.__esModule=!0;var a=e("./utils"),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=a.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;n>r;r++)a[r-1]=arguments[r];console[t].apply(console,a)}}};n["default"]=i,t.exports=n["default"]},{"./utils":19}],16:[function(e,t,n){(function(e){"use strict";n.__esModule=!0,n["default"]=function(t){var n="undefined"!=typeof e?e:window,a=n.Handlebars;t.noConflict=function(){return n.Handlebars===t&&(n.Handlebars=a),t}},t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){var t=e&&e[0]||1,n=v.COMPILER_REVISION;if(t!==n){if(n>t){var a=v.REVISION_CHANGES[n],i=v.REVISION_CHANGES[t];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+i+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){function n(n,a,i){i.hash&&(a=p.extend({},a,i.hash),i.ids&&(i.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,a,i);var r=t.VM.invokePartial.call(this,n,a,i);if(null==r&&t.compile&&(i.partials[i.name]=t.compile(n,e.compilerOptions,t),r=i.partials[i.name](a,i)),null!=r){if(i.indent){for(var s=r.split("\n"),o=0,l=s.length;l>o&&(s[o]||o+1!==l);o++)s[o]=i.indent+s[o];r=s.join("\n")}return r}throw new g["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function a(t){function n(t){return""+e.main(i,t,i.helpers,i.partials,s,l,o)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;a._setup(r),!r.partial&&e.useData&&(s=h(t,s));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=r.depths?t!==r.depths[0]?[t].concat(r.depths):r.depths:[t]),(n=f(e.main,n,i,r.depths||[],s,l))(t,r)}if(!t)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var i={strict:function(e,t){if(!(t in e))throw new g["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,a=0;n>a;a++)if(e[a]&&null!=e[a][t])return e[a][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,a,i){var r=this.programs[e],s=this.fn(e);return t||i||a||n?r=o(this,e,s,t,n,a,i):r||(r=this.programs[e]=o(this,e,s)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=p.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return a.isTop=!0,a._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=i.merge(n.decorators,t.decorators)))},a._child=function(t,n,a,r){if(e.useBlockParams&&!a)throw new g["default"]("must pass block params");if(e.useDepths&&!r)throw new g["default"]("must pass parent depths");return o(i,t,e[t],n,0,a,r)},a}function o(e,t,n,a,i,r,s){function o(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return s&&t!==s[0]&&(o=[t].concat(s)),n(e,t,e.helpers,e.partials,i.data||a,r&&[i.blockParams].concat(r),o)}return o=f(n,o,e,s,a,r),o.program=t,o.depth=s?s.length:0,o.blockParams=i||0,o}function l(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function u(e,t,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;if(n.fn&&n.fn!==c&&(n.data=v.createFrame(n.data),a=n.data["partial-block"]=n.fn,a.partials&&(n.partials=p.extend({},n.partials,a.partials))),void 0===e&&a&&(e=a),void 0===e)throw new g["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function c(){return""}function h(e,t){return t&&"root"in t||(t=t?v.createFrame(t):{},t.root=e),t}function f(e,t,n,a,i,r){if(e.decorator){var s={};t=e.decorator(t,s,n,a&&a[0],i,r,a),p.extend(t,s)}return t}n.__esModule=!0,n.checkRevision=r,n.template=s,n.wrapProgram=o,n.resolvePartial=l,n.invokePartial=u,n.noop=c;var d=e("./utils"),p=i(d),m=e("./exception"),g=a(m),v=e("./base")},{"./base":3,"./exception":6,"./utils":19}],18:[function(e,t,n){"use strict";function a(e){this.string=e}n.__esModule=!0,a.prototype.toString=a.prototype.toHTML=function(){return""+this.string},n["default"]=a,t.exports=n["default"]},{}],19:[function(e,t,n){"use strict";function a(e){return h[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(f,a):e}function o(e){return e||0===e?!(!g(e)||0!==e.length):!0}function l(e){var t=i({},e);return t._parent=e,t}function u(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}n.__esModule=!0,n.extend=i,n.indexOf=r,n.escapeExpression=s,n.isEmpty=o,n.createFrame=l,n.blockParams=u,n.appendContextPath=c;var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},f=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;n.toString=p;var m=function(e){return"function"==typeof e};m(/x/)&&(n.isFunction=m=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),n.isFunction=m;var g=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===p.call(e):!1};n.isArray=g},{}],20:[function(e,t,n){t.exports=e("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":2}],21:[function(e,t,n){t.exports=e("handlebars/runtime")["default"]},{"handlebars/runtime":20}],22:[function(e,t,n){"use strict";var a=tui.util.isExisty,i=tui.util.isString,r=tui.util.defineClass({init:function(){this.customEvents=new tui.util.CustomEvents},register:function(){var e=this.customEvents;e.on.apply(e,arguments)},deregister:function(){var e=this.customEvents;e.off.apply(e,arguments)},invoke:function(e){var t=e.name,n=e.args,r=this.customEvents;return(a(n)&&!a(n.length)||i(n))&&(n=[n]),Array.prototype.unshift.call(n||[],t),r.invoke.apply(r,n)}});t.exports=r},{}],23:[function(e,t,n){"use strict";t.exports={CLASSNAME_PREFIX:"tui-image-editor",commands:{SET_CANVAS_ELEMENT:"setCanvasElement",SET_CANVAS_IMAGE:"setCanvasImage",LOAD_IMAGE_FROM_URL:"loadImageFromUrl",ON_LOAD_IMAGE:"onLoadImage",ON_SCALE_IMAGE:"onScaleImage"}}},{}],24:[function(e,t,n){"use strict";var a={UN_IMPLEMENTATION:"Should implement a method: ",NO_VIEW_NAME:"Should set a view name",NO_ELEMENT:"Should render element(s): ",UNKNOWN:"Unknown: "},i={unimplementation:function(e){return Error(a.UN_IMPLEMENTATION+e)},noview:function(){return Error(a.NO_VIEW_NAME)},noelement:function(e){return Error(a.NO_ELEMENT+e)},unknown:function(e){return Error(a.UNKNOWN+e)}};t.exports={create:function(e){var t;return e=e.toLowerCase(),t=i[e]||i.unknown,Array.prototype.shift.apply(arguments),t.apply(null,arguments)}}},{}],25:[function(e,t,n){"use strict";var a=e("./../interface/component"),i=e("./../consts").commands,r=70,s=tui.util.defineClass(a,{init:function(e){this.setParent(e),this.registerAction(i.LOAD_IMAGE_FROM_URL,this.loadImageFromURL,this)},loadImageFromURL:function(e){fabric.Image.fromURL(e,$.proxy(function(t){var n=this.getCanvas(),a=this.calcInitialScale(t);t.scale(a),n.add(t),n.centerObject(t),this.postCommands(e,t),this.attachImageEvents(t)},this))},postCommands:function(e,t){this.postCommand({name:i.SET_CANVAS_IMAGE,args:t}),this.postCommand({name:i.ON_LOAD_IMAGE,args:tui.util.extend({imageName:e,originalWidth:t.width,originalHeight:t.height},this.getCurrentSize(t))})},attachImageEvents:function(e){e.on("scaling",$.proxy(function(){this.postCommand({name:i.ON_SCALE_IMAGE,args:this.getCurrentSize(e)})},this))},getCurrentSize:function(e){return{currentWidth:parseInt(e.width*e.scaleX,10),currentHeight:parseInt(e.height*e.scaleY,10)}},calcInitialScale:function(e){var t,n=this.getCanvas(),a=e.width,i=e.height;return t=e.width>e.height?(n.width-r)/a:(n.height-r)/i}});t.exports=s},{"./../consts":23,"./../interface/component":28}],26:[function(e,t,n){"use strict";var a=e("./../interface/component"),i=e("./imageLoader"),r=e("./../consts").commands,s=tui.util.defineClass(a,{init:function(e){this.broker=e,this.canvas=null,this.oImage=null,this.components={},this.registerActions()},registerActions:function(){this.registerAction(r.SET_CANVAS_ELEMENT,this.setCanvasElement,this),this.registerAction(r.SET_CANVAS_IMAGE,this.setCanvasImage,this)},setCanvasImage:function(e){this.oImage=e},setCanvasElement:function(e){this.canvas=new fabric.Canvas(e),this.setComponents()},setComponents:function(){this.components.imageLoader=new i(this)},registerAction:function(){var e=this.broker;e.register.apply(e,arguments)},deregisterAction:function(){var e=this.broker;e.deregister.apply(e,arguments)},postCommand:function(e){return this.broker.invoke(e)}});t.exports=s},{"./../consts":23,"./../interface/component":28,"./imageLoader":25}],27:[function(e,t,n){"use strict";var a=e("./view/main"),i=e("./handler/main"),r=e("./broker"),s=e("./consts").commands,o=tui.util.defineClass({init:function(e){var t=new r;this.broker=t,this.mainHandler=new i(t),this.mainView=new a(t,e)},loadImageFromURL:function(e){this.broker.invoke({name:s.LOAD_IMAGE_FROM_URL,args:e})}});t.exports=o},{"./broker":22,"./consts":23,"./handler/main":26,"./view/main":37}],28:[function(e,t,n){"use strict";var a=e("./../mixin/mixer"),i=tui.util.defineClass({init:function(){},getCanvas:function(){return this===this.getRoot()?this.canvas:this.getRoot().getCanvas()},getComponent:function(e){return this===this.getRoot()?this.components[e]:this.getRoot().getComponent(e)},getCanvasImage:function(){return this===this.getRoot()?this.oImage:this.getRoot().getCanvas()}});a.mixin(i,"Delegator"),t.exports=i},{"./../mixin/mixer":32}],29:[function(e,t,n){"use strict";var a=e("./../mixin/mixer"),i=e("./../factory/error").create,r=tui.util.defineClass({init:function(e){this.$element=null,this.setParent(e)},getElement:function(){var e=this.$element;if(!e)throw i("noElement",this.getName());return e},getName:function(){var e=this.name;if(!e)throw i("noView");return e},template:function(){throw i("unImplementation","template")},render:function(){var e=this.templateContext;this.destroy(),this.$element=$(this.template(e)),this.doAfterRender&&this.doAfterRender()},destroy:function(){var e;this.doBeforeDestroy&&this.doBeforeDestroy(),e=this.$element,e&&e.remove(),this.$element=null}});a.mixin(r,"Delegator"),t.exports=r},{"./../factory/error":24,"./../mixin/mixer":32}],30:[function(e,t,n){"use strict";var a=e("./../factory/error").create,i={setParent:function(e){this._parent=e||null},getParent:function(){return this._parent},getRoot:function(){for(var e=this.getParent(),t=this;e;)t=e,e=t.getParent();return t},postCommand:function(e,t){var n=this.getRoot();if(this.postCommand===n.postCommand)throw a("unImplementation","postCommand");n.postCommand(e,t)},registerAction:function(){var e=this.getRoot();if(this.registerAction===e.registerAction)throw a("unImplementation","registerAction");e.registerAction.apply(e,arguments)},deregisterAction:function(){var e=this.getRoot();if(this.deregisterAction===e.deregisterAction)throw a("unImplementation","deregisterAction");e.deregisterAction.apply(e,arguments)}};t.exports=i},{"./../factory/error":24}],31:[function(e,t,n){"use strict";var a={addChild:function(e){var t,n=e.getName();e.render(),t=e.getElement(),this._children=this._children||{},this.removeChild(n),this._children[n]=e,this.$element.append(t)},removeChild:function(e){var t=this._children,n=t[e];n&&(n.destroy(),delete t[e])},clearChildren:function(){tui.util.forEach(this._children,function(e){e.destroy()}),this._children={}}};t.exports=a},{}],32:[function(e,t,n){"use strict";function a(e){return o[e.toLowerCase()]}function i(e,t){tui.util.extend(e.prototype,a(t))}var r=e("./branchView"),s=e("./Delegator"),o={branchview:r,delegator:s};t.exports={getMixture:a,mixin:i}},{"./Delegator":30,"./branchView":31}],33:[function(e,t,n){"use strict";var a=e("./../interface/view"),i=e("./../../template/button.hbs"),r=tui.util.defineClass(a,{init:function(e,t,n){a.call(this,e),this.name=t,this.setTemplateContext(n)},templateContext:{buttonName:"button"},template:i,setTemplateContext:function(e){this.templateContext=tui.util.extend({},r.prototype.templateContext,e)},on:function(){var e=this.$element;e.on.apply(e,arguments)}});t.exports=r},{"./../../template/button.hbs":40,"./../interface/view":29}],34:[function(e,t,n){"use strict";var a=e("./../interface/view"),i=e("./../consts").commands,r=e("./../../template/canvas.hbs"),s=tui.util.defineClass(a,{init:function(e){a.call(this,e)},name:"canvas",templateContext:{name:"canvas",canvasWidth:700,canvasHeight:700},template:r,doAfterRender:function(){this.postCommand({name:i.SET_CANVAS_ELEMENT,args:this.$element.find("canvas")[0]})}});t.exports=s},{"./../../template/canvas.hbs":41,"./../consts":23,"./../interface/view":29}],35:[function(e,t,n){"use strict";var a=e("./../interface/view"),i=e("./imageInformation"),r=e("./../mixin/mixer"),s=e("./../consts").commands,o=e("./../../template/container.hbs"),l=tui.util.defineClass(a,{init:function(e){a.call(this,e)},name:"detail",templateContext:{name:"detail"},template:o,doAfterRender:function(){this.registerAction(s.ON_LOAD_IMAGE,$.proxy(function(e){this.addChild(new i(this,e))},this))},doBeforeDestroy:function(){this.deregisterAction(this),this.clearChildren()}});r.mixin(l,"BranchView"),t.exports=l},{"./../../template/container.hbs":42,"./../consts":23,"./../interface/view":29,"./../mixin/mixer":32,"./imageInformation":36}],36:[function(e,t,n){"use strict";var a=e("./../interface/view"),i=e("./../consts"),r=e("./../../template/ImageInformation.hbs"),s=i.commands,o=tui.util.defineClass(a,{init:function(e,t){a.call(this,e),this.setTemplateContext(t)},name:"imageInformation",template:r,templateContext:{title:"title",imageInformation:"imageInformation",original:"original",current:"current",spanText:"spanText"},doAfterRender:function(){var e=i.CLASSNAME_PREFIX,t=e+"-"+this.templateContext.current,n=this.$element.find("."+t);this.registerAction(s.ON_SCALE_IMAGE,$.proxy(function(e){e.onScaling=!0,n.html(this.template(e))},this))},doBeforeDestroy:function(){this.deregisterAction(this)},setTemplateContext:function(e){this.templateContext=tui.util.extend({},o.prototype.templateContext,e)}});t.exports=o},{"./../../template/ImageInformation.hbs":39,"./../consts":23,"./../interface/view":29}],37:[function(e,t,n){"use strict";var a=e("./../interface/view"),i=e("./menu"),r=e("./canvas"),s=e("./detail"),o=e("./../mixin/mixer"),l=e("./../../template/container.hbs"),u=tui.util.defineClass(a,{init:function(e,t){a.call(this),this.broker=e,this.render(),this.getElement().appendTo(t)},name:"main",templateContext:{name:"main"},template:l,doAfterRender:function(){this.addChild(new i(this)),this.addChild(new r(this)),this.addChild(new s(this))},doBeforeDestroy:function(){this.deregisterAction(this),this.clearChildren()},postCommand:function(e){return this.broker.invoke(e)},registerAction:function(){var e=this.broker;e.register.apply(e,arguments)},deregisterAction:function(){var e=this.broker;e.register.apply(e,arguments)}});o.mixin(u,"BranchView"),t.exports=u},{"./../../template/container.hbs":42,"./../interface/view":29,"./../mixin/mixer":32,"./canvas":34,"./detail":35,"./menu":38}],38:[function(e,t,n){"use strict";var a=e("./../interface/view"),i=e("./button"),r=e("./../mixin/mixer"),s=e("./../../template/container.hbs"),o=tui.util.defineClass(a,{init:function(e){a.call(this,e)},name:"menu",templateContext:{name:"menu"},template:s,doAfterRender:function(){this.addChild(new i(this,"Load",{text:"Load"})),this.addChild(new i(this,"Save",{text:"Save"})),this.addChild(new i(this,"Reset",{text:"Reset"}))},doBeforeDestroy:function(){this.clearChildren()}});r.mixin(o,"BranchView"),t.exports=o},{"./../../template/container.hbs":42,"./../interface/view":29,"./../mixin/mixer":32,"./button":33}],39:[function(e,t,n){var a=e("hbsfy/runtime");t.exports=a.template({1:function(e,t,n,a,i){var r,s=null!=t?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'    Current width: <span class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.spanText:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.currentWidth||(null!=t?t.currentWidth:t))?r:o,typeof r===u?r.call(s,{name:"currentWidth",hash:{},data:i}):r))+'px</span>\n    <br>\n    Current height: <span class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.spanText:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.currentHeight||(null!=t?t.currentHeight:t))?r:o,typeof r===u?r.call(s,{name:"currentHeight",hash:{},data:i}):r))+"px</span>\n"},3:function(e,t,n,a,i){var r,s=null!=t?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'    <div class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.imageInformation:t,{name:"className",hash:{},data:i}))+'">\n        <h1 class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.title:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.imageName||(null!=t?t.imageName:t))?r:o,typeof r===u?r.call(s,{name:"imageName",hash:{},data:i}):r))+'</h1>\n        <div class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.original:t,{name:"className",hash:{},data:i}))+'">\n            Original width: <span class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.spanText:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.originalWidth||(null!=t?t.originalWidth:t))?r:o,typeof r===u?r.call(s,{name:"originalWidth",hash:{},data:i}):r))+'px</span>\n            <br>\n            Original height: <span class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.spanText:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.originalHeight||(null!=t?t.originalHeight:t))?r:o,typeof r===u?r.call(s,{name:"originalHeight",hash:{},data:i}):r))+'px</span>\n        </div>\n        <div class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.current:t,{name:"className",hash:{},data:i}))+'">\n            Current width: <span class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.spanText:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.currentWidth||(null!=t?t.currentWidth:t))?r:o,typeof r===u?r.call(s,{name:"currentWidth",hash:{},data:i}):r))+'px</span>\n            <br>\n            Current height: <span class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.spanText:t,{name:"className",hash:{},data:i}))+'">'+l((r=null!=(r=n.currentHeight||(null!=t?t.currentHeight:t))?r:o,typeof r===u?r.call(s,{name:"currentHeight",hash:{},data:i}):r))+"px</span>\n        </div>\n    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var r;return(null!=(r=n["if"].call(null!=t?t:{},null!=t?t.onScaling:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))?r:"")+"\n"},useData:!0})},{"hbsfy/runtime":21}],40:[function(e,t,n){var a=e("hbsfy/runtime");t.exports=a.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var r,s=null!=t?t:{},o=n.helperMissing,l=e.escapeExpression;return'<button class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.buttonName:t,{name:"className",hash:{},data:i}))+'">\n    <span>'+l((r=null!=(r=n.text||(null!=t?t.text:t))?r:o,"function"==typeof r?r.call(s,{name:"text",hash:{},data:i}):r))+"</span>\n</button>\n"},useData:!0})},{"hbsfy/runtime":21}],41:[function(e,t,n){var a=e("hbsfy/runtime");t.exports=a.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){var r,s=null!=t?t:{},o=n.helperMissing,l=e.escapeExpression,u="function";return'<div class="'+l((n.className||t&&t.className||o).call(s,null!=t?t.name:t,{name:"className",hash:{},data:i}))+'">\n    <canvas width="'+l((r=null!=(r=n.canvasWidth||(null!=t?t.canvasWidth:t))?r:o,typeof r===u?r.call(s,{name:"canvasWidth",hash:{},data:i}):r))+'" height="'+l((r=null!=(r=n.canvasHeight||(null!=t?t.canvasHeight:t))?r:o,typeof r===u?r.call(s,{name:"canvasHeight",hash:{},data:i}):r))+'"></canvas>\n</div>\n'},useData:!0})},{"hbsfy/runtime":21}],42:[function(e,t,n){var a=e("hbsfy/runtime");t.exports=a.template({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,i){return'<div class="tui-image-editor-container '+e.escapeExpression((n.className||t&&t.className||n.helperMissing).call(null!=t?t:{},null!=t?t.name:t,{name:"className",hash:{},data:i}))+'"></div>\n'},useData:!0})},{"hbsfy/runtime":21}],43:[function(e,t,n){"use strict";var a=e("hbsfy/runtime"),i=e("./../js/consts");a.registerHelper("className",function(e){return i.CLASSNAME_PREFIX+"-"+e})},{"./../js/consts":23,"hbsfy/runtime":21}]},{},[1]);