!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return r(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){tui.util.defineNamespace("tui.component.ImageEditor",t("./src/js/imageEditor"),!0)},{"./src/js/imageEditor":13}],2:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],3:[function(t,e,n){function i(){l=!1,a.length?u=a.concat(u):f=-1,u.length&&r()}function r(){if(!l){var t=setTimeout(i);l=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,c=e.exports={},u=[],l=!1,f=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||l||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],4:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],5:[function(t,e,n){(function(e,i){function r(t,e){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(e)?i.showHidden=e:e&&n._extend(i,e),N(i.showHidden)&&(i.showHidden=!1),N(i.depth)&&(i.depth=2),N(i.colors)&&(i.colors=!1),N(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),c(i,t,i.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,e,i){if(t.customInspect&&e&&w(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(i,t);return y(r)||(r=c(t,r,i)),r}var o=u(t,e);if(o)return o;var s=Object.keys(e),m=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),k(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(w(e)){var d=e.name?": "+e.name:"";return t.stylize("[Function"+d+"]","special")}if(E(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(b(e))return t.stylize(Date.prototype.toString.call(e),"date");if(k(e))return l(e)}var v="",_=!1,C=["{","}"];if(g(e)&&(_=!0,C=["[","]"]),w(e)){var N=e.name?": "+e.name:"";v=" [Function"+N+"]"}if(E(e)&&(v=" "+RegExp.prototype.toString.call(e)),b(e)&&(v=" "+Date.prototype.toUTCString.call(e)),k(e)&&(v=" "+l(e)),0===s.length&&(!_||0==e.length))return C[0]+v+C[1];if(0>i)return E(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=_?f(t,e,i,m,s):s.map(function(n){return h(t,e,i,m,n,_)}),t.seen.pop(),p(S,v,C)}function u(t,e){if(N(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return _(e)?t.stylize(""+e,"number"):m(e)?t.stylize(""+e,"boolean"):d(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,r){for(var o=[],s=0,a=e.length;a>s;++s)P(e,String(s))?o.push(h(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(h(t,e,n,i,r,!0))}),o}function h(t,e,n,i,r,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),P(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=d(n)?c(t,u.value,null):c(t,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),N(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function g(t){return Array.isArray(t)}function m(t){return"boolean"==typeof t}function d(t){return null===t}function v(t){return null==t}function _(t){return"number"==typeof t}function y(t){return"string"==typeof t}function C(t){return"symbol"==typeof t}function N(t){return void 0===t}function E(t){return S(t)&&"[object RegExp]"===x(t)}function S(t){return"object"==typeof t&&null!==t}function b(t){return S(t)&&"[object Date]"===x(t)}function k(t){return S(t)&&("[object Error]"===x(t)||t instanceof Error)}function w(t){return"function"==typeof t}function O(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function x(t){return Object.prototype.toString.call(t)}function I(t){return 10>t?"0"+t.toString(10):t.toString(10)}function M(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var R=/%[sdj%]/g;n.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(R,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];o>n;a=i[++n])s+=d(a)||!S(a)?" "+a:" "+r(a);return s},n.deprecate=function(t,r){function o(){if(!s){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),s=!0}return t.apply(this,arguments)}if(N(i.process))return function(){return n.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var T,A={};n.debuglog=function(t){if(N(T)&&(T=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!A[t])if(new RegExp("\\b"+t+"\\b","i").test(T)){var i=e.pid;A[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else A[t]=function(){};return A[t]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=g,n.isBoolean=m,n.isNull=d,n.isNullOrUndefined=v,n.isNumber=_,n.isString=y,n.isSymbol=C,n.isUndefined=N,n.isRegExp=E,n.isObject=S,n.isDate=b,n.isError=k,n.isFunction=w,n.isPrimitive=O,n.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:3,inherits:2}],6:[function(t,e,n){"use strict";var i=t("../interface/component"),r=t("../extension/cropzone"),o=t("../consts"),s=t("../util"),a=10,c=Math.abs,u=s.clamp,l=tui.util.defineClass(i,{init:function(t){this.setParent(t),this._cropzone=null,this._startX=null,this._startY=null,this._listeners={mousedown:$.proxy(this._onFabricMouseDown,this),mousemove:$.proxy(this._onFabricMouseMove,this),mouseup:$.proxy(this._onFabricMouseUp,this)}},name:o.componentNames.CROPPER,start:function(){var t;this._cropzone||(this._cropzone=new r({left:-10,top:-10,width:1,height:1,cornerSize:10,cornerColor:"black",fill:"transparent",hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0}),t=this.getCanvas(),t.add(this._cropzone),t.on("mouse:down",this._listeners.mousedown),t.defaultCursor="crosshair")},end:function(t){var e,n=this.getCanvas(),i=this._cropzone;return i?(n.selection=!0,n.defaultCursor="default",n.discardActiveObject(),n.off("mouse:down",this._listeners.mousedown),i.remove(),t&&(e=this._getCroppedImageData()),this._cropzone=null,e):null},_onFabricMouseDown:function(t){var e,n=this.getCanvas();t.target||(n.selection=!1,e=n.getPointer(t.e),this._startX=e.x,this._startY=e.y,n.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}))},_onFabricMouseMove:function(t){var e=this.getCanvas(),n=e.getPointer(t.e),i=n.x,r=n.y,o=this._cropzone;c(i-this._startX)+c(r-this._startY)>a&&(o.remove(),o.set(this._calcRectDimensionFromPoint(i,r)),e.add(o))},_calcRectDimensionFromPoint:function(t,e){var n=this.getCanvas(),i=n.getWidth(),r=n.getHeight(),o=this._startX,s=this._startY,a=u(t,0,o),c=u(e,0,s);return{left:a,top:c,width:u(t,o,i)-a,height:u(e,s,r)-c}},_onFabricMouseUp:function(){var t=this._cropzone,e=this._listeners,n=this.getCanvas();n.setActiveObject(t),n.off({"mouse:move":e.mousemove,"mouse:up":e.mouseup})},_getCroppedImageData:function(){var t,e=this._cropzone;return e.isValid()?(t={left:e.getLeft(),top:e.getTop(),width:e.getWidth(),height:e.getHeight()},{imageName:this.getImageName(),url:this.getCanvas().toDataURL(t)}):null}});e.exports=l},{"../consts":9,"../extension/cropzone":10,"../interface/component":15,"../util":19}],7:[function(t,e,n){"use strict";var i=t("../interface/component"),r=t("../consts"),o={crossOrigin:""},s={cssOnly:!0},a={backstoreOnly:!0},c=tui.util.defineClass(i,{init:function(t){this.setParent(t)},name:r.componentNames.IMAGE_LOADER,load:function(t,e){var n,i=this;return t||e?n=this._setBackgroundImage(e).done(function(e){i.setCanvasImage(t,e)}):(this.getCanvas().backgroundImage=null,this.getCanvas().renderAll(),n=$.Deferred(function(){i.setCanvasImage("",null)}).resolve()),n},_setBackgroundImage:function(t){var e,n,i=$.Deferred();return t?(n=this,e=this.getCanvas(),e.setBackgroundImage(t,function(){var t=e.backgroundImage;t.getElement()?(n._onSuccessImageLoad(t),i.resolve(t)):i.reject()},o),i):i.reject()},_onSuccessImageLoad:function(t){var e=this.getCanvas(),n=Math.min(Math.floor(1e3),t.width);e.setDimensions({margin:"auto",width:"100%",height:"","max-width":n+"px"},s),e.setDimensions({width:t.width,height:t.height},a)}});e.exports=c},{"../consts":9,"../interface/component":15}],8:[function(t,e,n){"use strict";var i=t("../interface/component"),r=t("../consts"),o=tui.util.defineClass(i,{init:function(){this.canvas=null,this.oImage=null,this.imageName=""},name:r.componentNames.MAIN,getComponent:function(t){return this.children[t]},toDataURL:function(t){return this.canvas&&this.canvas.toDataURL(t)},setCanvasImage:function(t,e){this.imageName=t,this.oImage=e},setCanvasElement:function(t){this.canvas=new fabric.Canvas($(t)[0],{containerClass:"tui-component-imageEditor-canvasContainer"})},getCanvasElement:function(){return this.canvas.getElement()},getCanvas:function(){return this.canvas},getCanvasImage:function(){return this.oImage},getImageName:function(){return this.imageName}});e.exports=o},{"../consts":9,"../interface/component":15}],9:[function(t,e,n){"use strict";var i=t("util");e.exports={componentNames:i.keyMirror("MAIN","IMAGE_LOADER","CROPPER"),eventNames:{LOAD_IMAGE:"loadImage",CLEAR_IMAGE:"clearImage",START_CROPPING:"startCropping",END_CROPPING:"endCropping",EMPTY_REDO_STACK:"emptyRedoStack",EMPTY_UNDO_STACK:"emptyUndoStack",PUSH_UNDO_STACK:"pushUndoStack",PUSH_REDO_STACK:"pushRedoStack"},IS_SUPPORT_FILE_API:!!(window.File&&window.FileList&&window.FileReader)}},{util:5}],10:[function(t,e,n){"use strict";var i=t("../util"),r="tl",o="tr",s="mt",a="ml",c="mr",u="mb",l="bl",f="br",h=i.clamp,p=fabric.util.createClass(fabric.Rect,{initialize:function(t){this.callSuper("initialize",t),this.on({moving:this._onMoving,scaling:this._onScaling})},_render:function(t){var e,n,i,r,o=7,s=7;this.callSuper("_render",t),e=this.flipX?-1:1,n=this.flipY?-1:1,i=e/this.scaleX,r=n/this.scaleY,t.scale(i,r),this._fillOuterRect(t,"rgba(0, 0, 0, 0.55)"),this._strokeBorder(t,"rgb(0, 0, 0)",o),this._strokeBorder(t,"rgb(255, 255, 255)",o,s),t.scale(1/i,1/r)},_fillOuterRect:function(t,e){var n=this._getCoordinates(t),i=n.x,r=n.y;t.save(),t.fillStyle=e,t.beginPath(),t.moveTo(i[0]-1,r[0]-1),t.lineTo(i[3]+1,r[0]-1),t.lineTo(i[3]+1,r[3]+1),t.lineTo(i[0]-1,r[3]-1),t.lineTo(i[0]-1,r[0]-1),t.closePath(),t.moveTo(i[1],r[1]),t.lineTo(i[1],r[2]),t.lineTo(i[2],r[2]),t.lineTo(i[2],r[1]),t.lineTo(i[1],r[1]),t.closePath(),t.fill(),t.restore()},_getCoordinates:function(t){var e=Math.ceil,n=this.getWidth(),i=this.getHeight(),r=n/2,o=i/2,s=this.getLeft(),a=this.getTop(),c=t.canvas;return{x:tui.util.map([-(r+s),-r,r,r+(c.width-s-n)],e),y:tui.util.map([-(o+a),-o,o,o+(c.height-a-i)],e)}},_strokeBorder:function(t,e,n,i){var r=this.getWidth()/2,o=this.getHeight()/2;t.save(),t.strokeStyle=e,t.setLineDash&&t.setLineDash([n,n]),i&&(t.lineDashOffset=i),t.beginPath(),t.moveTo(-r,-o),t.lineTo(r,-o),t.lineTo(r,o),t.lineTo(-r,o),t.lineTo(-r,-o),t.stroke(),t.restore()},_onMoving:function(){var t=this.canvas,e=this.getLeft(),n=this.getTop(),i=this.getWidth(),r=this.getHeight(),o=t.getWidth()-i,s=t.getHeight()-r;this.setLeft(h(e,0,o)),this.setTop(h(n,0,s))},_onScaling:function(t){var e=this.canvas.getPointer(t.e),n=this._calcScalingSizeFromPointer(e);this.scale(1).set(n)},_calcScalingSizeFromPointer:function(t){var e=t.x,n=t.y,i=this._calcTopLeftScalingSizeFromPointer(e,n),r=this._calcBottomRightScalingSizeFromPointer(e,n);return this._makeScalingSettings(i,r)},_calcTopLeftScalingSizeFromPointer:function(t,e){var n=this.getHeight()+this.top,i=this.getWidth()+this.left,r=h(e,0,n-1),o=h(t,0,i-1);return{top:r,left:o,width:i-o,height:n-r}},_calcBottomRightScalingSizeFromPointer:function(t,e){var n=this.canvas,i=n.width,r=n.height,o=this.left,s=this.top;return{width:h(t,o+1,i)-o,height:h(e,s+1,r)-s}},_makeScalingSettings:function(t,e){var n,i=t.width,h=t.height,p=e.height,g=e.width,m=t.left,d=t.top;switch(this.__corner){case r:n=t;break;case o:n={width:g,height:h,top:d};break;case l:n={width:i,height:p,left:m};break;case f:n=e;break;case a:n={width:i,left:m};break;case s:n={height:h,top:d};break;case c:n={width:g};break;case u:n={height:p}}return n},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0}});e.exports=p},{"../util":19}],11:[function(t,e,n){"use strict";function i(t,e){return new r({execute:function(n){var i=n[s];return this.store={prevName:i.getImageName(),prevImage:i.getCanvasImage()},i.load(t,e)},undo:function(t){var e=t[s],n=this.store;return e.load(n.prevName,n.prevImage)}})}var r=t("../interface/command"),o=t("../consts").componentNames,s=o.IMAGE_LOADER;e.exports={createLoadCommand:i}},{"../consts":9,"../interface/command":14}],12:[function(t,e,n){"use strict";var i=t("../util").keyMirror,r=i("UN_IMPLEMENTATION","NO_COMPONENT_NAME","UNKNOWN"),o={UN_IMPLEMENTATION:"Should implement a method: ",NO_COMPONENT_NAME:"Should set a component name",UNKNOWN:"Unknown: "},s={UN_IMPLEMENTATION:function(t){return o.UN_IMPLEMENTATION+t},NO_COMPONENT_NAME:function(){return o.NO_COMPONENT_NAME},UNKNOWN:function(t){return o.UNKNOWN+t}};e.exports={types:tui.util.extend({},r),create:function(t){var e;return t=t.toLowerCase(),e=s[t]||s.unknown,Array.prototype.shift.apply(arguments),e.apply(null,arguments)}}},{"../util":19}],13:[function(t,e,n){"use strict";var i=t("./invoker"),r=t("./factory/command"),o=t("./consts"),s=o.eventNames,a=o.componentNames,c=tui.util.defineClass({"static":{eventNames:tui.util.extend({},s)},init:function(t){this._invoker=new i,this.setCanvasElement($(t)[0])},clear:function(){this.endCropping()},execute:function(t){var e=this;this.clear(),this._invoker.invoke(t).done(function(){e.fire(s.PUSH_UNDO_STACK),e.fire(s.EMPTY_REDO_STACK)})},undo:function(){var t=this._invoker,e=this;this.clear(),t.undo().done(function(){t.isEmptyUndoStack()&&e.fire(s.EMPTY_UNDO_STACK),e.fire(s.PUSH_REDO_STACK)})},redo:function(){var t=this._invoker,e=this;this.clear(),t.redo().done(function(){t.isEmptyRedoStack()&&e.fire(s.EMPTY_REDO_STACK),e.fire(s.PUSH_UNDO_STACK)})},loadImageFromFile:function(t){t&&this.loadImageFromURL(t.name,URL.createObjectURL(t))},loadImageFromURL:function(t,e){var n,i;t&&e&&(n=$.proxy(this._callbackAfterImageLoading,this),i=r.createLoadCommand(t,e).setExecutionCallback(n).setUndoerCallback(n),this.execute(i))},_callbackAfterImageLoading:function(t){var e=this._invoker.get(a.MAIN),n=$(e.getCanvasElement());t?this.fire(s.LOAD_IMAGE,{originalWidth:t.width,originalHeight:t.height,currentWidth:n.width(),currentHeight:n.height()}):this.fire(s.CLEAR_IMAGE)},startCropping:function(){var t=this._invoker.get(a.CROPPER);t.start(),this.fire(s.START_CROPPING)},endCropping:function(t){var e=this._invoker.get(a.CROPPER),n=e.end(t);this.fire(s.END_CROPPING),n&&this.loadImageFromURL(n.imageName,n.url)},setCanvasElement:function(t){this._invoker.get(a.MAIN).setCanvasElement(t)},toDataURL:function(t){return this._invoker.get(a.MAIN).toDataURL(t)},getImageName:function(){return this._invoker.get(a.MAIN).getImageName()},clearUndoStack:function(){this._invoker.clearUndoStack(),this.fire(s.EMPTY_UNDO_STACK)},clearRedoStack:function(){this._invoker.clearRedoStack(),this.fire(s.EMPTY_REDO_STACK)}});tui.util.CustomEvents.mixin(c),e.exports=c},{"./consts":9,"./factory/command":11,"./invoker":16}],14:[function(t,e,n){"use strict";var i=t("../factory/errorMessage"),r=i.create,o=i.types,s=tui.util.defineClass({init:function(t){this.execute=t.execute,this.undo=t.undo,this.executionCallback=null,this.undoerCallback=null},execute:function(){throw new Error(r(o.UN_IMPLEMENTATION,"execute"))},undo:function(){throw new Error(r(o.UN_IMPLEMENTATION,"undo"))},setExecutionCallback:function(t){return this.executionCallback=t,this},setUndoerCallback:function(t){return this.undoerCallback=t,this}});e.exports=s},{"../factory/errorMessage":12}],15:[function(t,e,n){"use strict";var i=t("../mixin/mixer"),r=tui.util.defineClass({init:function(){},setCanvasImage:function(t,e){this.getRoot().setCanvasImage(t,e)},getCanvasElement:function(){return this.getRoot().getCanvasElement()},getCanvas:function(){return this.getRoot().getCanvas()},getCanvasImage:function(){return this.getRoot().getCanvasImage()},getImageName:function(){return this.getRoot().getImageName()},getEditor:function(){return this.getRoot().getEditor()},getName:function(){return this.name}});i.mixin(r,"Delegator"),e.exports=r},{"../mixin/mixer":18}],16:[function(t,e,n){"use strict";var i=t("./component/imageLoader"),r=t("./component/cropper"),o=t("./component/main"),s=tui.util.defineClass({init:function(){this.undoStack=[],this.redoStack=[],this.componentMap={},this._createComponents()},_createComponents:function(){var t=new o;this._register(t),this._register(new i(t)),this._register(new r(t))},_register:function(t){this.componentMap[t.getName()]=t},get:function(t){return this.componentMap[t]},invoke:function(t){var e=this;return $.when(t.execute(this.componentMap)).done(t.executionCallback).done(function(){e.undoStack.push(t),e.clearRedoStack()})},undo:function(){var t,e=this.undoStack.pop(),n=this;return t=e?$.when(e.undo(this.componentMap)).done(e.undoerCallback).done(function(){n.redoStack.push(e)}):$.Deferred().reject()},redo:function(){var t,e=this.redoStack.pop(),n=this;return t=e?$.when(e.execute(this.componentMap)).done(e.executionCallback).done(function(){n.undoStack.push(e)}):$.Deferred().reject()},isEmptyRedoStack:function(){return 0===this.redoStack.length},isEmptyUndoStack:function(){return 0===this.undoStack.length},clearUndoStack:function(){this.undoStack=[]},clearRedoStack:function(){this.redoStack=[]}});e.exports=s},{"./component/cropper":6,"./component/imageLoader":7,"./component/main":8}],17:[function(t,e,n){"use strict";var i={setParent:function(t){this._parent=t||null},getParent:function(){return this._parent},getRoot:function(){for(var t=this.getParent(),e=this;t;)e=t,t=e.getParent();return e}};e.exports=i},{}],18:[function(t,e,n){"use strict";function i(t){return s[t.toLowerCase()]}function r(t,e){tui.util.extend(t.prototype,i(e))}var o=t("./Delegator"),s={delegator:o};e.exports={getMixture:i,mixin:r}},{"./Delegator":17}],19:[function(t,e,n){"use strict";var i=Math.min,r=Math.max;e.exports={clamp:function(t,e,n){var o;return e>n&&(o=e,e=n,n=o),r(e,i(t,n))},keyMirror:function(){var t={};return tui.util.forEach(arguments,function(e){t[e]=e}),t}}},{}]},{},[1]);