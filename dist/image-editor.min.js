/**
 * tui-image-editor
 * @author NHNEnt FE Development Team <dl_javascript@nhnent.com>
 * @version v1.3.0
 * @license MIT
 */
!function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var c="function"==typeof require&&require;if(!r&&c)return c(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return s(i?i:t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e,i){tui.util.defineNamespace("tui.component.ImageEditor",t("./src/js/imageEditor"),!0)},{"./src/js/imageEditor":17}],2:[function(t,e,i){"use strict";var n=t("../interface/component"),s=t("../extension/cropzone"),o=t("../consts"),a=t("../util"),r=10,c=Math.abs,h=a.clamp,u=o.keyCodes,l=tui.util.defineClass(n,{init:function(t){this.setParent(t),this._cropzone=null,this._startX=null,this._startY=null,this._withShiftKey=!1,this._listeners={keydown:$.proxy(this._onKeyDown,this),keyup:$.proxy(this._onKeyUp,this),mousedown:$.proxy(this._onFabricMouseDown,this),mousemove:$.proxy(this._onFabricMouseMove,this),mouseup:$.proxy(this._onFabricMouseUp,this)}},name:o.componentNames.CROPPER,start:function(){var t;this._cropzone||(t=this.getCanvas(),t.forEachObject(function(t){t.evented=!1}),this._cropzone=new s({left:-10,top:-10,width:1,height:1,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent",hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0}),t.deactivateAll(),t.add(this._cropzone),t.on("mouse:down",this._listeners.mousedown),t.selection=!1,t.defaultCursor="crosshair",fabric.util.addListener(document,"keydown",this._listeners.keydown),fabric.util.addListener(document,"keyup",this._listeners.keyup))},end:function(t){var e,i=this.getCanvas(),n=this._cropzone;return n?(n.remove(),i.selection=!0,i.defaultCursor="default",i.off("mouse:down",this._listeners.mousedown),i.forEachObject(function(t){t.evented=!0}),t&&(e=this._getCroppedImageData()),this._cropzone=null,fabric.util.removeListener(document,"keydown",this._listeners.keydown),fabric.util.removeListener(document,"keyup",this._listeners.keyup),e):null},_onFabricMouseDown:function(t){var e,i=this.getCanvas();t.target||(i.selection=!1,e=i.getPointer(t.e),this._startX=e.x,this._startY=e.y,i.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}))},_onFabricMouseMove:function(t){var e=this.getCanvas(),i=e.getPointer(t.e),n=i.x,s=i.y,o=this._cropzone;c(n-this._startX)+c(s-this._startY)>r&&(o.remove(),o.set(this._calcRectDimensionFromPoint(n,s)),e.add(o))},_calcRectDimensionFromPoint:function(t,e){var i=this.getCanvas(),n=i.getWidth(),s=i.getHeight(),o=this._startX,a=this._startY,r=h(t,0,o),c=h(e,0,a),u=h(t,o,n)-r,l=h(e,a,s)-c;return this._withShiftKey&&(u>l?l=u:l>u&&(u=l),o>=t&&(r=o-u),a>=e&&(c=a-l)),{left:r,top:c,width:u,height:l}},_onFabricMouseUp:function(){var t=this._cropzone,e=this._listeners,i=this.getCanvas();i.setActiveObject(t),i.off({"mouse:move":e.mousemove,"mouse:up":e.mouseup})},_getCroppedImageData:function(){var t,e=this._cropzone;return e.isValid()?(t={left:e.getLeft(),top:e.getTop(),width:e.getWidth(),height:e.getHeight()},{imageName:this.getImageName(),url:this.getCanvas().toDataURL(t)}):null},_onKeyDown:function(t){t.keyCode===u.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(t){t.keyCode===u.SHIFT&&(this._withShiftKey=!1)}});e.exports=l},{"../consts":12,"../extension/cropzone":13,"../interface/component":20,"../util":22}],3:[function(t,e,i){"use strict";var n=t("../interface/component"),s=t("../extension/mask"),o=t("../consts"),a=tui.util.defineClass(n,{init:function(t){this.setParent(t)},name:o.componentNames.FILTER,add:function(t,e){var i=$.Deferred(),n=this._createFilter(t,e),s=this._getSourceImage(),o=this.getCanvas();return n||i.reject(),s.filters.push(n),this._apply(s,function(){o.renderAll(),i.resolve(t,"add")}),i},remove:function(t){var e=$.Deferred(),i=this._getSourceImage(),n=this.getCanvas();return i.filters.length||e.reject(),i.filters.pop(),this._apply(i,function(){n.renderAll(),e.resolve(t,"remove")}),e},_apply:function(t,e){t.applyFilters(e)},_getSourceImage:function(){return this.getCanvasImage()},_createFilter:function(t,e){var i;switch(t){case"mask":i=new s(e);break;case"removeWhite":i=new fabric.Image.filters.RemoveWhite(e);break;default:i=null}return i}});e.exports=a},{"../consts":12,"../extension/mask":14,"../interface/component":20}],4:[function(t,e,i){"use strict";var n=t("../interface/Component"),s=t("../consts"),o=tui.util.defineClass(n,{init:function(t){this.setParent(t)},name:s.componentNames.FLIP,getCurrentSetting:function(){var t=this.getCanvasImage();return{flipX:t.flipX,flipY:t.flipY}},set:function(t){var e=this.getCurrentSetting(),i=$.Deferred(),n=e.flipX!==t.flipX,s=e.flipY!==t.flipY;return n||s?(tui.util.extend(e,t),this.setImageProperties(e,!0),this._invertAngle(n,s),this._flipObjects(n,s),i.resolve(e,this.getCanvasImage().angle)):i.reject()},_invertAngle:function(t,e){var i=this.getCanvasImage(),n=i.angle;t&&(n*=-1),e&&(n*=-1),i.setAngle(parseFloat(n)).setCoords()},_flipObjects:function(t,e){var i=this.getCanvas();t&&i.forEachObject(function(t){t.set({angle:parseFloat(t.angle*-1),flipX:!t.flipX,left:i.width-t.left}).setCoords()}),e&&i.forEachObject(function(t){t.set({angle:parseFloat(t.angle*-1),flipY:!t.flipY,top:i.height-t.top}).setCoords()}),i.renderAll()},reset:function(){return this.set({flipX:!1,flipY:!1})},flipX:function(){var t=this.getCurrentSetting();return this.set({flipX:!t.flipX,flipY:t.flipY})},flipY:function(){var t=this.getCurrentSetting();return this.set({flipX:t.flipX,flipY:!t.flipY})}});e.exports=o},{"../consts":12,"../interface/Component":18}],5:[function(t,e,i){"use strict";var n=t("../interface/Component"),s=t("../consts"),o=tui.util.defineClass(n,{init:function(t){this.setParent(t),this.width=12,this.oColor=new fabric.Color("rgba(0, 0, 0, 0.5)")},name:s.componentNames.FREE_DRAWING,start:function(t){var e=this.getCanvas();e.isDrawingMode=!0,this.setBrush(t)},setBrush:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this.width=t.width||this.width,t.color&&(this.oColor=new fabric.Color(t.color)),e.width=this.width,e.color=this.oColor.toRgba()},end:function(){var t=this.getCanvas();t.isDrawingMode=!1}});e.exports=o},{"../consts":12,"../interface/Component":18}],6:[function(t,e,i){"use strict";var n=t("../interface/component"),s=t("../consts"),o={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},a=tui.util.defineClass(n,{init:function(t){this.setParent(t),this._oColor="#000000",this._pathMap=o},name:s.componentNames.ICON,add:function(t){var e,i=this.getCanvas(),n=this.getCanvasImage().getCenterPoint(),o=this._pathMap[t];o&&(e=this._createIcon(o),e.set(s.fObjectOptions.SELECTION_STYLE),e.set({fill:this._oColor,left:n.x,top:n.y,type:"icon"}),i.add(e).setActiveObject(e))},registerPaths:function(t){tui.util.forEach(t,function(t,e){this._pathMap[e]=t},this)},setColor:function(t,e){this._oColor=t,e&&"icon"===e.get("type")&&(e.setFill(this._oColor),this.getCanvas().renderAll())},_createIcon:function(t){return new fabric.Path(t)}});e.exports=a},{"../consts":12,"../interface/component":20}],7:[function(t,e,i){"use strict";var n=t("../interface/component"),s=t("../consts"),o={padding:0,crossOrigin:"anonymous"},a=tui.util.defineClass(n,{init:function(t){this.setParent(t)},name:s.componentNames.IMAGE_LOADER,load:function(t,e){var i,n,s=this;return t||e?i=this._setBackgroundImage(e).done(function(e){s.setCanvasImage(t,e),s.adjustCanvasDimension()}):(n=this.getCanvas(),n.backgroundImage=null,n.renderAll(),i=$.Deferred(function(){s.setCanvasImage("",null)}).resolve()),i},_setBackgroundImage:function(t){var e,i=$.Deferred();return t?(e=this.getCanvas(),e.setBackgroundImage(t,function(){var t=e.backgroundImage;t.getElement()?i.resolve(t):i.reject()},o),i):i.reject()}});e.exports=a},{"../consts":12,"../interface/component":20}],8:[function(t,e,i){"use strict";var n=t("../interface/Component"),s=t("../consts"),o=tui.util.defineClass(n,{init:function(t){this.setParent(t),this._width=12,this._oColor=new fabric.Color("rgba(0, 0, 0, 0.5)"),this._listeners={mousedown:$.proxy(this._onFabricMouseDown,this),mousemove:$.proxy(this._onFabricMouseMove,this),mouseup:$.proxy(this._onFabricMouseUp,this)}},name:s.componentNames.LINE,start:function(t){var e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,this.setBrush(t),e.forEachObject(function(t){t.set({evented:!1})}),e.on({"mouse:down":this._listeners.mousedown})},setBrush:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this._width=t.width||this._width,t.color&&(this._oColor=new fabric.Color(t.color)),e.width=this._width,e.color=this._oColor.toRgba()},end:function(){var t=this.getCanvas();t.defaultCursor="default",t.selection=!0,t.forEachObject(function(t){t.set({evented:!0})}),t.off("mouse:down",this._listeners.mousedown)},_onFabricMouseDown:function(t){var e=this.getCanvas(),i=e.getPointer(t.e),n=[i.x,i.y,i.x,i.y];this._line=new fabric.Line(n,{stroke:this._oColor.toRgba(),strokeWidth:this._width,evented:!1}),this._line.set(s.fObjectOptions.SELECTION_STYLE),e.add(this._line),e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})},_onFabricMouseMove:function(t){var e=this.getCanvas(),i=e.getPointer(t.e);this._line.set({x2:i.x,y2:i.y}),this._line.setCoords(),e.renderAll()},_onFabricMouseUp:function(){var t=this.getCanvas();this._line=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}});e.exports=o},{"../consts":12,"../interface/Component":18}],9:[function(t,e,i){"use strict";var n=t("../interface/component"),s=t("../consts"),o=1e3,a=800,r={cssOnly:!0},c={backstoreOnly:!0},h=tui.util.defineClass(n,{init:function(){this.canvas=null,this.canvasImage=null,this.cssMaxWidth=o,this.cssMaxHeight=a,this.imageName=""},name:s.componentNames.MAIN,toDataURL:function(t){return this.canvas&&this.canvas.toDataURL(t)},setCanvasImage:function(t,e){e&&tui.util.stamp(e),this.imageName=t,this.canvasImage=e},setCssMaxDimension:function(t){this.cssMaxWidth=t.width||this.cssMaxWidth,this.cssMaxHeight=t.height||this.cssMaxHeight},setCanvasElement:function(t){this.canvas=new fabric.Canvas($(t)[0],{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})},adjustCanvasDimension:function(){var t=this.canvasImage.scale(1),e=t.getBoundingRect(),i=e.width,n=e.height,s=this._calcMaxDimension(i,n);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":s.width+"px","max-height":s.height+"px"}),this.setCanvasBackstoreDimension({width:i,height:n}),this.canvas.centerObject(t)},_calcMaxDimension:function(t,e){var i=this.cssMaxWidth/t,n=this.cssMaxHeight/e,s=Math.min(t,this.cssMaxWidth),o=Math.min(e,this.cssMaxHeight);return i<1&&i<n?(s=t*i,o=e*i):n<1&&n<i&&(s=t*n,o=e*n),{width:Math.floor(s),height:Math.floor(o)}},setCanvasCssDimension:function(t){this.canvas.setDimensions(t,r)},setCanvasBackstoreDimension:function(t){this.canvas.setDimensions(t,c)},setImageProperties:function(t,e){var i=this.canvasImage;i&&(i.set(t).setCoords(),e&&this.canvas.renderAll())},getCanvasElement:function(){return this.canvas.getElement()},getCanvas:function(){return this.canvas},getCanvasImage:function(){return this.canvasImage},getImageName:function(){return this.imageName}});e.exports=h},{"../consts":12,"../interface/component":20}],10:[function(t,e,i){"use strict";var n=t("../interface/Component"),s=t("../consts"),o=tui.util.defineClass(n,{init:function(t){this.setParent(t)},name:s.componentNames.ROTATION,getCurrentAngle:function(){return this.getCanvasImage().angle},setAngle:function(t){var e,i,n,s=this.getCurrentAngle()%360,o=$.Deferred();return t%=360,t===s?o.reject():(n=this.getCanvasImage(),e=n.getCenterPoint(),n.setAngle(t).setCoords(),this.adjustCanvasDimension(),i=n.getCenterPoint(),this._rotateForEachObject(e,i,t-s),o.resolve(t))},_rotateForEachObject:function(t,e,i){var n=this.getCanvas(),s={x:t.x-e.x,y:t.y-e.y};n.forEachObject(function(e){var n=e.getCenterPoint(),o=fabric.util.degreesToRadians(i),a=fabric.util.rotatePoint(n,t,o);e.set({left:a.x-s.x,top:a.y-s.y,angle:(e.angle+i)%360}),e.setCoords()}),n.renderAll()},rotate:function(t){var e=this.getCurrentAngle();return this.setAngle(e+t)}});e.exports=o},{"../consts":12,"../interface/Component":18}],11:[function(t,e,i){"use strict";var n=t("../interface/component"),s=t("../consts"),o=t("../util"),a={fill:"#000000",left:0,top:0},r={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"left",textDecoraiton:""},c=tui.util.browser,h="tui-image-eidtor-textarea",u=o.makeStyleText({position:"absolute",padding:0,display:"none",border:"1px dotted red",overflow:"hidden",resize:"none",outline:"none","border-radius":0,"background-color":"transparent","-webkit-appearance":"none","z-index":9999,"white-space":"pre"}),l=.1,f=500,g=tui.util.defineClass(n,{init:function(t){this.setParent(t),this._defaultStyles=a,this._isSelected=!1,this._selectedObj={},this._editingObj={},this._listeners={},this._textarea=null,this._ratio=1,this._lastClickTime=(new Date).getTime(),this._editingObjInfos={},this.isPrevEditing=!1},name:s.componentNames.TEXT,start:function(t){var e=this.getCanvas();this._listeners=t,e.selection=!1,e.defaultCursor="text",this._setEventEachObject(!1),e.on({"mouse:down":this._listeners.mousedown,"object:selected":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._onFabricScaling}),this._createTextarea(),this.setCanvasRatio()},end:function(){var t=this.getCanvas();t.selection=!0,t.defaultCursor="default",this._setEventEachObject(!0),t.deactivateAllWithDispatch(),t.off({"mouse:down":this._listeners.mousedown,"object:selected":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._onFabricScaling}),this._removeTextarea(),this._listeners={}},add:function(t,e){var i,n=this.getCanvas(),o=this._defaultStyles;this._setInitPos(e.position),e.styles&&(o=tui.util.extend(e.styles,o)),i=new fabric.Text(t,o),i.set(s.fObjectOptions.SELECTION_STYLE),i.on({mouseup:$.proxy(this._onFabricMouseUp,this)}),n.add(i),n.getActiveObject()||n.setActiveObject(i),this.isPrevEditing=!0},change:function(t,e){t.set("text",e),this.getCanvas().renderAll()},setStyle:function(t,e){tui.util.forEach(e,function(i,n){t[n]===i&&(e[n]=r[n]||"")},this),t.set(e),this.getCanvas().renderAll()},setSelectedInfo:function(t,e){this._selectedObj=t,this._isSelected=e},isSelected:function(){return this._isSelected},getSelectedObj:function(){return this._selectedObj},setCanvasRatio:function(){var t=this.getCanvasElement(),e=parseInt(t.style.maxWidth,10),i=t.width,n=i/e;this._ratio=n},getCanvasRatio:function(){return this._ratio},_setInitPos:function(t){t=t||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=t.x,this._defaultStyles.top=t.y},_createTextarea:function(){var t=this.getCanvasElement().parentNode,e=document.createElement("textarea");e.className=h,e.setAttribute("style",u),e.setAttribute("wrap","off"),t.appendChild(e),this._textarea=e,this._listeners=tui.util.extend(this._listeners,{input:tui.util.bind(this._onInput,this),keydown:tui.util.bind(this._onKeyDown,this),blur:tui.util.bind(this._onBlur,this),scroll:tui.util.bind(this._onScroll,this)}),c.msie&&9===c.version?fabric.util.addListener(e,"keydown",this._listeners.keydown):fabric.util.addListener(e,"input",this._listeners.input),fabric.util.addListener(e,"blur",this._listeners.blur),fabric.util.addListener(e,"scroll",this._listeners.scroll)},_removeTextarea:function(){var t=this.getCanvasElement().parentNode,e=t.querySelector("textarea");t.removeChild(e),this._textarea=null,c.msie&&c.version<10?fabric.util.removeListener(e,"keydown",this._listeners.keydown):fabric.util.removeListener(e,"input",this._listeners.input),fabric.util.removeListener(e,"blur",this._listeners.blur),fabric.util.removeListener(e,"scroll",this._listeners.scroll)},_onInput:function(){var t=this.getCanvasRatio(),e=this._editingObj,i=this._textarea.style;e.setText(this._textarea.value),i.width=Math.ceil(e.getWidth()/t)+"px",i.height=Math.ceil(e.getHeight()/t)+"px"},_onKeyDown:function(){var t=this.getCanvasRatio(),e=this._editingObj,i=this._textarea.style,n=this;setTimeout(function(){e.setText(n._textarea.value),i.width=Math.ceil(e.getWidth()/t)+"px",i.height=Math.ceil(e.getHeight()/t)+"px"},0)},_onBlur:function(){var t=this.getCanvasRatio(),e=this._editingObj,i=this._editingObjInfos,n=e.getWidth()/t-i.width/t,s=e.getHeight()/t-i.height/t;1===t&&(n/=2,s/=2),this._textarea.style.display="none",this._editingObj.set({left:i.left+n,top:i.top+s}),this.getCanvas().add(this._editingObj),this.getCanvas().on("object:removed",this._listeners.remove)},_onScroll:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0},_onFabricScaling:function(t){var e=t.target,i=e.getFontSize()*e.getScaleY();e.setFontSize(i),e.setScaleX(1),e.setScaleY(1)},_onFabricMouseUp:function(t){var e=(new Date).getTime();this._isDoubleClick(e)&&(this._changeToEditingMode(t.target),this._listeners.dbclick()),this._lastClickTime=e},_setEventEachObject:function(t){this.getCanvas().forEachObject(function(e){e.isType("text")||(e.evented=t)})},_isDoubleClick:function(t){return t-this._lastClickTime<f},_changeToEditingMode:function(t){var e=this.getCanvasRatio(),i=this._textarea.style;this.isPrevEditing=!0,this.getCanvas().off("object:removed",this._listeners.remove),t.remove(),this._editingObj=t,this._textarea.value=t.getText(),this._editingObjInfos={left:this._editingObj.getLeft(),top:this._editingObj.getTop(),width:this._editingObj.getWidth(),height:this._editingObj.getHeight()},i.display="block",i.left=t.oCoords.tl.x/e+"px",i.top=t.oCoords.tl.y/e+"px",i.width=Math.ceil(t.getWidth()/e)+"px",i.height=Math.ceil(t.getHeight()/e)+"px",i.transform="rotate("+t.getAngle()+"deg)",i.color=t.getFill(),i["font-size"]=t.getFontSize()/e+"px",i["font-family"]=t.getFontFamily(),i["font-style"]=t.getFontStyle(),i["font-weight"]=t.getFontWeight(),i["text-align"]=t.getTextAlign(),i["line-height"]=t.getLineHeight()+l,i["transform-origin"]="left top",this._textarea.focus()}});e.exports=g},{"../consts":12,"../interface/component":20,"../util":22}],12:[function(t,e,i){"use strict";var n=t("./util");e.exports={componentNames:n.keyMirror("MAIN","IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER"),commandNames:n.keyMirror("CLEAR","LOAD_IMAGE","FLIP_IMAGE","ROTATE_IMAGE","ADD_OBJECT","REMOVE_OBJECT","APPLY_FILTER"),eventNames:{LOAD_IMAGE:"loadImage",CLEAR_OBJECTS:"clearObjects",CLEAR_IMAGE:"clearImage",START_CROPPING:"startCropping",END_CROPPING:"endCropping",FLIP_IMAGE:"flipImage",ROTATE_IMAGE:"rotateImage",ADD_OBJECT:"addObject",SELECT_OBJECT:"selectObject",REMOVE_OBJECT:"removeObject",ADJUST_OBJECT:"adjustObject",START_FREE_DRAWING:"startFreeDrawing",END_FREE_DRAWING:"endFreeDrawing",START_LINE_DRAWING:"startLineDrawing",END_LINE_DRAWING:"endLineDrawing",EMPTY_REDO_STACK:"emptyRedoStack",EMPTY_UNDO_STACK:"emptyUndoStack",PUSH_UNDO_STACK:"pushUndoStack",PUSH_REDO_STACK:"pushRedoStack",ACTIVATE_TEXT:"activateText",APPLY_FILTER:"applyFilter",EDIT_TEXT:"editText"},states:n.keyMirror("NORMAL","CROP","FREE_DRAWING","LINE","TEXT"),keyCodes:{Z:90,Y:89,SHIFT:16,BACKSPACE:8,DEL:46},fObjectOptions:{SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}}}},{"./util":22}],13:[function(t,e,i){"use strict";var n=t("../util").clamp,s="tl",o="tr",a="mt",r="ml",c="mr",h="mb",u="bl",l="br",f=fabric.util.createClass(fabric.Rect,{initialize:function(t){t.type="cropzone",this.callSuper("initialize",t),this.on({moving:this._onMoving,scaling:this._onScaling})},_render:function(t){var e,i,n,s,o=7,a=7;this.callSuper("_render",t),e=this.flipX?-1:1,i=this.flipY?-1:1,n=e/this.scaleX,s=i/this.scaleY,t.scale(n,s),this._fillOuterRect(t,"rgba(0, 0, 0, 0.55)"),this._strokeBorder(t,"rgb(0, 0, 0)",o),this._strokeBorder(t,"rgb(255, 255, 255)",o,a),t.scale(1/n,1/s)},_fillOuterRect:function(t,e){var i=this._getCoordinates(t),n=i.x,s=i.y;t.save(),t.fillStyle=e,t.beginPath(),t.moveTo(n[0]-1,s[0]-1),t.lineTo(n[3]+1,s[0]-1),t.lineTo(n[3]+1,s[3]+1),t.lineTo(n[0]-1,s[3]-1),t.lineTo(n[0]-1,s[0]-1),t.closePath(),t.moveTo(n[1],s[1]),t.lineTo(n[1],s[2]),t.lineTo(n[2],s[2]),t.lineTo(n[2],s[1]),t.lineTo(n[1],s[1]),t.closePath(),t.fill(),t.restore()},_getCoordinates:function(t){var e=Math.ceil,i=this.getWidth(),n=this.getHeight(),s=i/2,o=n/2,a=this.getLeft(),r=this.getTop(),c=t.canvas;return{x:tui.util.map([-(s+a),-s,s,s+(c.width-a-i)],e),y:tui.util.map([-(o+r),-o,o,o+(c.height-r-n)],e)}},_strokeBorder:function(t,e,i,n){var s=this.getWidth()/2,o=this.getHeight()/2;t.save(),t.strokeStyle=e,t.setLineDash&&t.setLineDash([i,i]),n&&(t.lineDashOffset=n),t.beginPath(),t.moveTo(-s,-o),t.lineTo(s,-o),t.lineTo(s,o),t.lineTo(-s,o),t.lineTo(-s,-o),t.stroke(),t.restore()},_onMoving:function(){var t=this.canvas,e=this.getLeft(),i=this.getTop(),s=this.getWidth(),o=this.getHeight(),a=t.getWidth()-s,r=t.getHeight()-o;this.setLeft(n(e,0,a)),this.setTop(n(i,0,r))},_onScaling:function(t){var e=this.canvas.getPointer(t.e),i=this._calcScalingSizeFromPointer(e);this.scale(1).set(i)},_calcScalingSizeFromPointer:function(t){var e=t.x,i=t.y,n=this._calcTopLeftScalingSizeFromPointer(e,i),s=this._calcBottomRightScalingSizeFromPointer(e,i);return this._makeScalingSettings(n,s)},_calcTopLeftScalingSizeFromPointer:function(t,e){var i=this.getHeight()+this.top,s=this.getWidth()+this.left,o=n(e,0,i-1),a=n(t,0,s-1);return{top:o,left:a,width:s-a,height:i-o}},_calcBottomRightScalingSizeFromPointer:function(t,e){var i=this.canvas,s=i.width,o=i.height,a=this.left,r=this.top;return{width:n(t,a+1,s)-a,height:n(e,r+1,o)-r}},_makeScalingSettings:function(t,e){var i,n=t.width,f=t.height,g=e.height,d=e.width,_=t.left,m=t.top;switch(this.__corner){case s:i=t;break;case o:i={width:d,height:f,top:m};break;case u:i={width:n,height:g,left:_};break;case l:i=e;break;case r:i={width:n,left:_};break;case a:i={height:f,top:m};break;case c:i={width:d};break;case h:i={height:g}}return i},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0}});e.exports=f},{"../util":22}],14:[function(t,e,i){"use strict";var n=fabric.util.createClass(fabric.Image.filters.Mask,{applyTo:function(t){var e,i,n,s,o,a;this.mask&&(o=t.width,a=t.height,e=this._createCanvasOfMask(o,a),i=t.getContext("2d"),n=e.getContext("2d"),s=i.getImageData(0,0,o,a),this._drawMask(n,t,i),this._mapData(n,s,o,a),i.putImageData(s,0,0))},_createCanvasOfMask:function(t,e){var i=fabric.util.createCanvasElement();return i.width=t,i.height=e,i},_drawMask:function(t){var e,i,n,s=this.mask,o=s.getElement();e=s.getLeft(),i=s.getTop(),n=s.getAngle(),t.save(),t.translate(e,i),t.rotate(n*Math.PI/180),t.scale(s.scaleX,s.scaleY),t.drawImage(o,-o.width/2,-o.height/2),t.restore()},_mapData:function(t,e,i,n){for(var s=e.data,o=t.getImageData(0,0,i,n).data,a=this.channel,r=0,c=e.width*e.height*4;r<c;r+=4)s[r+3]=o[r+a]}});e.exports=n},{}],15:[function(t,e,i){"use strict";function n(t){return tui.util.stamp(t),new l({execute:function(e){var i=e[m].getCanvas(),n=$.Deferred();return i.contains(t)?n.reject():(i.add(t),n.resolve(t)),n},undo:function(e){var i=e[m].getCanvas(),n=$.Deferred();return i.contains(t)?(i.remove(t),n.resolve(t)):n.reject(),n}})}function s(t,e){return new l({execute:function(i){var n=i[p],s=n.getCanvas();return this.store={prevName:n.getImageName(),prevImage:n.getCanvasImage(),objects:s.getObjects().slice()},s.clear(),n.load(t,e)},undo:function(t){var e=t[p],i=e.getCanvas(),n=this.store;return i.clear(),i.add.apply(i,n.objects),e.load(n.prevName,n.prevImage)}})}function o(t){return new l({execute:function(e){var i=e[v];return this.store=i.getCurrentSetting(),i[t]()},undo:function(t){var e=t[v];return e.set(this.store)}})}function a(t,e){return new l({execute:function(i){var n=i[C];return this.store=n.getCurrentAngle(),n[t](e)},undo:function(t){var e=t[C];return e.setAngle(this.store)}})}function r(){return new l({execute:function(t){var e=t[m].getCanvas(),i=$.Deferred(),n=e.getObjects();return this.store=n.slice(),this.store.length?(tui.util.forEach(n.slice(),function(t){t.remove()}),i.resolve()):i.reject(),i},undo:function(t){var e=t[m].getCanvas();return e.add.apply(e,this.store),$.Deferred().resolve()}})}function c(t){return new l({execute:function(e){var i=e[m].getCanvas(),n=$.Deferred(),s=t&&t.isType("group")&&!t.isEmpty();return s?(i.discardActiveGroup(),this.store=t.getObjects(),t.forEachObject(function(t){t.remove()}),n.resolve()):i.contains(t)?(this.store=[t],t.remove(),n.resolve()):n.reject(),n},undo:function(t){var e=t[m].getCanvas();return e.add.apply(e,this.store),$.Deferred().resolve()}})}function h(t,e){return new l({execute:function(i){var n=i[E];return"mask"===t&&(this.store=e.mask,e.mask.remove()),n.add(t,e)},undo:function(e){var i=e[E];return"mask"===t&&i.getCanvas().add(this.store),i.remove(t)}})}function u(t,e){return e=Array.prototype.slice.call(arguments,1),_[t].apply(null,e)}var l=t("../interface/command"),f=t("../consts"),g=f.componentNames,d=f.commandNames,_={},m=g.MAIN,p=g.IMAGE_LOADER,v=g.FLIP,C=g.ROTATION,E=g.FILTER;_[d.LOAD_IMAGE]=s,_[d.FLIP_IMAGE]=o,_[d.ROTATE_IMAGE]=a,_[d.CLEAR_OBJECTS]=r,_[d.ADD_OBJECT]=n,_[d.REMOVE_OBJECT]=c,_[d.APPLY_FILTER]=h,e.exports={create:u}},{"../consts":12,"../interface/command":19}],16:[function(t,e,i){"use strict";var n=t("../util").keyMirror,s=n("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),o={UN_IMPLEMENTATION:"Should implement a method: ",NO_COMPONENT_NAME:"Should set a component name"},a={UN_IMPLEMENTATION:function(t){return o.UN_IMPLEMENTATION+t},NO_COMPONENT_NAME:function(){return o.NO_COMPONENT_NAME}};e.exports={types:tui.util.extend({},s),create:function(t){var e;return t=t.toLowerCase(),e=a[t],Array.prototype.shift.apply(arguments),e.apply(null,arguments)}}},{"../util":22}],17:[function(t,e,i){"use strict";var n=t("./invoker"),s=t("./factory/command"),o=t("./consts"),a=o.eventNames,r=o.commandNames,c=o.componentNames,h=o.states,u=o.keyCodes,l=o.fObjectOptions,f=tui.util.defineClass({init:function(t,e){e=e||{},this._invoker=new n,this._canvas=null,this._state=h.NORMAL,this._setCanvas(t,e.cssMaxWidth,e.cssMaxHeight),this._attachInvokerEvents(),this._attachCanvasEvents(),this._attachDomEvents(),e.selectionStyle&&this._setSelectionStyle(e.selectionStyle)},_setSelectionStyle:function(t){tui.util.forEach(t,function(t,e){l.SELECTION_STYLE[e]=t})},_attachInvokerEvents:function(){var t=a.PUSH_UNDO_STACK,e=a.PUSH_REDO_STACK,i=a.EMPTY_UNDO_STACK,n=a.EMPTY_REDO_STACK;this._invoker.on(t,$.proxy(this.fire,this,t)),this._invoker.on(e,$.proxy(this.fire,this,e)),this._invoker.on(i,$.proxy(this.fire,this,i)),this._invoker.on(n,$.proxy(this.fire,this,n))},_attachCanvasEvents:function(){this._removeEventHandler=$.proxy(this._onFabricRemoved,this),this._canvas.on({"path:created":this._onPathCreated,"object:added":$.proxy(function(t){var e,i=t.target;i.isType("cropzone")||i.isType("text")||(tui.util.hasStamp(i)||(e=s.create(r.ADD_OBJECT,i),this._invoker.pushUndoStack(e),this._invoker.clearRedoStack()),this.fire(a.ADD_OBJECT,i))},this),"object:removed":this._removeEventHandler,"object:moving":$.proxy(function(t){this._invoker.clearRedoStack(),this.fire(a.ADJUST_OBJECT,t.target,"move")},this),"object:scaling":$.proxy(function(t){this._invoker.clearRedoStack(),this.fire(a.ADJUST_OBJECT,t.target,"scale")},this),"object:selected":$.proxy(function(t){"text"===t.target.type&&"TEXT"!==this.getCurrentState()&&this.startTextMode()},this)})},_attachDomEvents:function(){fabric.util.addListener(document,"keydown",$.proxy(this._onKeyDown,this))},_onKeyDown:function(t){(t.ctrlKey||t.metaKey)&&t.keyCode===u.Z&&this.undo(),(t.ctrlKey||t.metaKey)&&t.keyCode===u.Y&&this.redo(),t.keyCode!==u.BACKSPACE&&t.keyCode!==u.DEL||!this._canvas.getActiveObject()||(t.preventDefault(),this.removeActiveObject())},_onFabricSelectClear:function(t){var e,i=this._getComponent(c.TEXT),n=i.getSelectedObj();i.isPrevEditing=!0,i.setSelectedInfo(t.target,!1),""===n.text?n.remove():tui.util.hasStamp(n)||(e=s.create(r.ADD_OBJECT,n),this._invoker.pushUndoStack(e),this._invoker.clearRedoStack())},_onFabricSelect:function(t){var e,i=this._getComponent(c.TEXT),n=i.getSelectedObj();i.isPrevEditing=!0,""===n.text?n.remove():!tui.util.hasStamp(n)&&i.isSelected()&&(e=s.create(r.ADD_OBJECT,n),this._invoker.pushUndoStack(e),this._invoker.clearRedoStack()),i.setSelectedInfo(t.target,!0)},_onFabricRemoved:function(t){this.fire(a.REMOVE_OBJECT,t.target)},_onPathCreated:function(t){t.path.set(o.fObjectOptions.SELECTION_STYLE)},_setCanvas:function(t,e,i){var n;n=this._getMainComponent(),n.setCanvasElement(t),n.setCssMaxDimension({width:e,height:i}),this._canvas=n.getCanvas()},_getMainComponent:function(){return this._getComponent(c.MAIN)},_getComponent:function(t){return this._invoker.getComponent(t)},getCurrentState:function(){return this._state},clearObjects:function(){var t=s.create(r.CLEAR_OBJECTS),e=$.proxy(this.fire,this,a.CLEAR_OBJECTS);t.setExecuteCallback(e),this.execute(t)},endAll:function(){this.endTextMode(),this.endFreeDrawing(),this.endLineDrawing(),this.endCropping(),this.deactivateAll(),this._state=h.NORMAL},deactivateAll:function(){this._canvas.deactivateAll(),this._canvas.renderAll()},execute:function(t){this.endAll(),this._invoker.invoke(t)},undo:function(){this.endAll(),this._invoker.undo()},redo:function(){this.endAll(),this._invoker.redo()},loadImageFromFile:function(t,e){t&&this.loadImageFromURL(URL.createObjectURL(t),e||t.name)},loadImageFromURL:function(t,e){var i,n,o=this;e&&t&&(i=$.proxy(this._callbackAfterImageLoading,this),n=s.create(r.LOAD_IMAGE,e,t),n.setExecuteCallback(i).setUndoCallback(function(t){t?i(t):o.fire(a.CLEAR_IMAGE)}),this.execute(n))},_callbackAfterImageLoading:function(t){var e=this._getMainComponent(),i=$(e.getCanvasElement());this.fire(a.LOAD_IMAGE,{originalWidth:t.width,originalHeight:t.height,currentWidth:i.width(),currentHeight:i.height()})},addImageObject:function(t){t&&fabric.Image.fromURL(t,$.proxy(this._callbackAfterLoadingImageObject,this),{crossOrigin:"Anonymous"})},_callbackAfterLoadingImageObject:function(t){var e=this._getMainComponent(),i=e.getCanvasImage().getCenterPoint();t.set(o.fObjectOptions.SELECTION_STYLE),t.set({left:i.x,top:i.y,crossOrigin:"anonymous"}),this._canvas.add(t).setActiveObject(t)},startCropping:function(){var t;this.getCurrentState()!==h.CROP&&(this.endAll(),this._state=h.CROP,t=this._getComponent(c.CROPPER),t.start(),this.fire(a.START_CROPPING))},endCropping:function(t){var e,i,n;this.getCurrentState()===h.CROP&&(e=this._getComponent(c.CROPPER),this._state=h.NORMAL,i=e.end(t),n=tui.util.bind(function(){this.fire(a.END_CROPPING),this.off("loadImage",n)},this),this.on("loadImage",n),i&&this.loadImageFromURL(i.url,i.imageName))},_flip:function(t){var e=$.proxy(this.fire,this,a.FLIP_IMAGE),i=s.create(r.FLIP_IMAGE,t);i.setExecuteCallback(e).setUndoCallback(e),this.execute(i)},flipX:function(){this._flip("flipX")},flipY:function(){this._flip("flipY")},resetFlip:function(){this._flip("reset")},_rotate:function(t,e){var i=$.proxy(this.fire,this,a.ROTATE_IMAGE),n=s.create(r.ROTATE_IMAGE,t,e);n.setExecuteCallback(i).setUndoCallback(i),this.execute(n)},rotate:function(t){this._rotate("rotate",t)},setAngle:function(t){this._rotate("setAngle",t)},startFreeDrawing:function(t){this.getCurrentState()!==h.FREE_DRAWING&&(this.endAll(),this._getComponent(c.FREE_DRAWING).start(t),this._state=h.FREE_DRAWING,this.fire(a.START_FREE_DRAWING))},setBrush:function(t){var e,i=this._state;switch(i){case h.LINE:e=c.LINE;break;default:e=c.FREE_DRAWING}this._getComponent(e).setBrush(t)},endFreeDrawing:function(){this.getCurrentState()===h.FREE_DRAWING&&(this._getComponent(c.FREE_DRAWING).end(),this._state=h.NORMAL,this.fire(a.END_FREE_DRAWING))},startLineDrawing:function(t){
this.getCurrentState()!==h.LINE&&(this.endAll(),this._getComponent(c.LINE).start(t),this._state=h.LINE,this.fire(a.START_LINE_DRAWING))},endLineDrawing:function(){this.getCurrentState()===h.LINE&&(this._getComponent(c.LINE).end(),this._state=h.NORMAL,this.fire(a.END_LINE_DRAWING))},startTextMode:function(){this.getCurrentState()!==h.TEXT&&(this._state=h.TEXT,this._getComponent(c.TEXT).start({mousedown:$.proxy(this._onFabricMouseDown,this),select:$.proxy(this._onFabricSelect,this),selectClear:$.proxy(this._onFabricSelectClear,this),dbclick:$.proxy(this._onDBClick,this),remove:this._removeEventHandler}))},addText:function(t,e){this.getCurrentState()!==h.TEXT&&(this._state=h.TEXT),this._getComponent(c.TEXT).add(t||"",e||{})},changeText:function(t){var e=this._canvas.getActiveObject();this.getCurrentState()===h.TEXT&&e&&this._getComponent(c.TEXT).change(e,t)},changeTextStyle:function(t){var e=this._canvas.getActiveObject();this.getCurrentState()===h.TEXT&&e&&this._getComponent(c.TEXT).setStyle(e,t)},endTextMode:function(){this.getCurrentState()===h.TEXT&&(this._state=h.NORMAL,this._getComponent(c.TEXT).end())},_onDBClick:function(){this.fire(a.EDIT_TEXT)},_onFabricMouseDown:function(t){var e=t.target,i=t.e||{},n=this._canvas.getPointer(i),s=this._getComponent(c.TEXT);if(!e||e.isType("text"))return s.isPrevEditing?void(s.isPrevEditing=!1):void this.fire(a.ACTIVATE_TEXT,{type:e?"select":"new",text:e?e.text:"",styles:e?{fill:e.fill,fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,textAlign:e.textAlign,textDecoration:e.textDecoration}:{},originPosition:{x:n.x,y:n.y},clientPosition:{x:i.clientX||0,y:i.clientY||0}})},registerIcons:function(t){this._getComponent(c.ICON).registerPaths(t)},addIcon:function(t){this._getComponent(c.ICON).add(t)},changeIconColor:function(t){var e=this._canvas.getActiveObject();this._getComponent(c.ICON).setColor(t,e)},removeActiveObject:function(){var t=this._canvas,e=t.getActiveObject()||t.getActiveGroup(),i=s.create(r.REMOVE_OBJECT,e);this.execute(i)},applyFilter:function(t,e){var i,n,o;if("mask"===t&&!e){if(o=this._canvas.getActiveObject(),!o||!o.isType("image"))return;e={mask:o}}n=$.proxy(this.fire,this,a.APPLY_FILTER),i=s.create(r.APPLY_FILTER,t,e),i.setExecuteCallback(n).setUndoCallback(n),this.execute(i)},toDataURL:function(t){return this._getMainComponent().toDataURL(t)},getImageName:function(){return this._getMainComponent().getImageName()},clearUndoStack:function(){this._invoker.clearUndoStack()},clearRedoStack:function(){this._invoker.clearRedoStack()},resizeCanvasDimension:function(t){var e=this._getMainComponent();t&&(e.setCssMaxDimension(t),e.adjustCanvasDimension())}});tui.util.CustomEvents.mixin(f),e.exports=f},{"./consts":12,"./factory/command":15,"./invoker":21}],18:[function(t,e,i){"use strict";var n=tui.util.defineClass({init:function(){},setCanvasImage:function(t,e){this.getRoot().setCanvasImage(t,e)},getCanvasElement:function(){return this.getRoot().getCanvasElement()},getCanvas:function(){return this.getRoot().getCanvas()},getCanvasImage:function(){return this.getRoot().getCanvasImage()},getImageName:function(){return this.getRoot().getImageName()},getEditor:function(){return this.getRoot().getEditor()},getName:function(){return this.name},setImageProperties:function(t,e){this.getRoot().setImageProperties(t,e)},setCanvasCssDimension:function(t){this.getRoot().setCanvasCssDimension(t)},setCanvasBackstoreDimension:function(t){this.getRoot().setCanvasBackstoreDimension(t)},setParent:function(t){this._parent=t||null},adjustCanvasDimension:function(){this.getRoot().adjustCanvasDimension()},getParent:function(){return this._parent},getRoot:function(){for(var t=this.getParent(),e=this;t;)e=t,t=e.getParent();return e}});e.exports=n},{}],19:[function(t,e,i){"use strict";var n=t("../factory/errorMessage"),s=n.create,o=n.types,a=tui.util.defineClass({init:function(t){this.execute=t.execute,this.undo=t.undo,this.executeCallback=null,this.undoCallback=null},execute:function(){throw new Error(s(o.UN_IMPLEMENTATION,"execute"))},undo:function(){throw new Error(s(o.UN_IMPLEMENTATION,"undo"))},setExecuteCallback:function(t){return this.executeCallback=t,this},setUndoCallback:function(t){return this.undoCallback=t,this}});e.exports=a},{"../factory/errorMessage":16}],20:[function(t,e,i){arguments[4][18][0].apply(i,arguments)},{dup:18}],21:[function(t,e,i){"use strict";var n=t("./component/imageLoader"),s=t("./component/cropper"),o=t("./component/main"),a=t("./component/flip"),r=t("./component/rotation"),c=t("./component/freeDrawing"),h=t("./component/line"),u=t("./component/text"),l=t("./component/icon"),f=t("./component/filter"),g=t("./consts").eventNames,d=tui.util.defineClass({init:function(){this._customEvents=new tui.util.CustomEvents,this._undoStack=[],this._redoStack=[],this._componentMap={},this._isLocked=!1,this._createComponents()},_createComponents:function(){var t=new o;this._register(t),this._register(new n(t)),this._register(new s(t)),this._register(new a(t)),this._register(new r(t)),this._register(new c(t)),this._register(new h(t)),this._register(new u(t)),this._register(new l(t)),this._register(new f(t))},_register:function(t){this._componentMap[t.getName()]=t},_invokeExecution:function(t){var e=this;return this.lock(),$.when(t.execute(this._componentMap)).done(function(){e.pushUndoStack(t)}).done(t.executeCallback).always(function(){e.unlock()})},_invokeUndo:function(t){var e=this;return this.lock(),$.when(t.undo(this._componentMap)).done(function(){e.pushRedoStack(t)}).done(t.undoCallback).always(function(){e.unlock()})},_fire:function(){var t=this._customEvents;t.fire.apply(t,arguments)},on:function(){var t=this._customEvents;t.on.apply(t,arguments)},getComponent:function(t){return this._componentMap[t]},lock:function(){this._isLocked=!0},unlock:function(){this._isLocked=!1},invoke:function(t){return this._isLocked?$.Deferred.reject():this._invokeExecution(t).done($.proxy(this.clearRedoStack,this))},undo:function(){var t,e=this._undoStack.pop();return e&&this._isLocked&&(this.pushUndoStack(e,!0),e=null),e?(this.isEmptyUndoStack()&&this._fire(g.EMPTY_UNDO_STACK),t=this._invokeUndo(e)):t=$.Deferred().reject(),t},redo:function(){var t,e=this._redoStack.pop();return e&&this._isLocked&&(this.pushRedoStack(e,!0),e=null),e?(this.isEmptyRedoStack()&&this._fire(g.EMPTY_REDO_STACK),t=this._invokeExecution(e)):t=$.Deferred().reject(),t},pushUndoStack:function(t,e){this._undoStack.push(t),e||this._fire(g.PUSH_UNDO_STACK)},pushRedoStack:function(t,e){this._redoStack.push(t),e||this._fire(g.PUSH_REDO_STACK)},isEmptyRedoStack:function(){return 0===this._redoStack.length},isEmptyUndoStack:function(){return 0===this._undoStack.length},clearUndoStack:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fire(g.EMPTY_UNDO_STACK))},clearRedoStack:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fire(g.EMPTY_REDO_STACK))}});e.exports=d},{"./component/cropper":2,"./component/filter":3,"./component/flip":4,"./component/freeDrawing":5,"./component/icon":6,"./component/imageLoader":7,"./component/line":8,"./component/main":9,"./component/rotation":10,"./component/text":11,"./consts":12}],22:[function(t,e,i){"use strict";var n=Math.min,s=Math.max;e.exports={clamp:function(t,e,i){var o;return e>i&&(o=e,e=i,i=o),s(e,n(t,i))},keyMirror:function(){var t={};return tui.util.forEach(arguments,function(e){t[e]=e}),t},makeStyleText:function(t){var e="";return tui.util.forEach(t,function(t,i){e+=i+": "+t+";"}),e}}},{}]},{},[1]);